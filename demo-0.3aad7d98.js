parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"7DSo":[function(require,module,exports) {
var define;
var t;parcelRequire=function(r,e,a,n){var o,c="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(t,a){if(!e[t]){if(!r[t]){var n="function"==typeof parcelRequire&&parcelRequire;if(!a&&n)return n(t,!0);if(c)return c(t,!0);if(i&&"string"==typeof t)return i(t);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}f.resolve=function(e){return r[t][1][e]||e},f.cache={};var s=e[t]=new u.Module(t);r[t][0].call(s.exports,f,s,s.exports,this)}return e[t].exports;function f(t){return u(f.resolve(t))}}u.isParcelRequire=!0,u.Module=function(t){this.id=t,this.bundle=u,this.exports={}},u.modules=r,u.cache=e,u.parent=c,u.register=function(t,e){r[t]=[function(t,r){r.exports=e},{}]};for(var s=0;s<a.length;s++)try{u(a[s])}catch(r){o||(o=r)}if(a.length){var f=u(a[a.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=f:"function"==typeof t&&t.amd&&t(function(){return f})}if(parcelRequire=u,o)throw o;return u}({EHrm:[function(t,r,e){r.exports={name:"nardgl",version:"1.0.6-alpha.0",description:"My graphics library",keywords:["webgl","gltf"],author:"Mathieu Mence <Mathieu.Mence@matnard.com>",homepage:"https://github.com/Matnard/NardGL#readme",license:"MIT",main:"lib/nardgl.js",directories:{lib:"lib",test:"__tests__"},files:["lib"],repository:{type:"git",url:"git+https://github.com/Matnard/NardGL.git"},scripts:{test:'echo "Error: run tests from root" && exit 1',build:"parcel build ./src/index.js --out-dir lib --out-file nardgl.js"},bugs:{url:"https://github.com/Matnard/NardGL/issues"},dependencies:{"@nardgl/console-greeting":"^1.0.0-alpha.0","@nardgl/core":"^0.0.3-alpha.0","@nardgl/gltf-parser":"^1.0.2-alpha.0","@nardgl/loader":"^1.1.0-alpha.0","@nardgl/utils":"^0.0.2-alpha.0"}}},{}],NAth:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,r){console.log("%câ–ˆ","\n\tpadding-bottom: 17ch;\n\tpadding-right: 17ch;\n\tcolor: white;\n\tbackground: white;\n\ttext-shadow:0ch 1ch 0#ffffff,1ch 1ch 0#ffffff,2ch 1ch 0#ffffff,3ch 1ch 0#ffffff,4ch 1ch 0#ffffff,5ch 1ch 0#ffffff,6ch 1ch 0#ffffff,7ch 1ch 0#ffffff,8ch 1ch 0#ffffff,9ch 1ch 0#ffffff,10ch 1ch 0#ffffff,11ch 1ch 0#ffffff,12ch 1ch 0#ffffff,13ch 1ch 0#ffffff,14ch 1ch 0#ffffff,15ch 1ch 0#ffffff,16ch 1ch 0#ffffff,0ch 2ch 0#ffffff,1ch 2ch 0#ffffff,2ch 2ch 0#ffffff,3ch 2ch 0#ffffff,4ch 2ch 0#ffffff,5ch 2ch 0#ffffff,6ch 2ch 0#ffffff,7ch 2ch 0#764719,8ch 2ch 0#764719,9ch 2ch 0#a86727,10ch 2ch 0#a86727,11ch 2ch 0#ffffff,12ch 2ch 0#ffffff,13ch 2ch 0#ffffff,14ch 2ch 0#ffffff,15ch 2ch 0#ffffff,16ch 2ch 0#ffffff,0ch 3ch 0#ffffff,1ch 3ch 0#ffffff,2ch 3ch 0#ffffff,3ch 3ch 0#ffffff,4ch 3ch 0#ffffff,5ch 3ch 0#764719,6ch 3ch 0#764719,7ch 3ch 0#a86727,8ch 3ch 0#a86727,9ch 3ch 0#cc7c33,10ch 3ch 0#cc7c33,11ch 3ch 0#a86727,12ch 3ch 0#a86727,13ch 3ch 0#ffffff,14ch 3ch 0#ffffff,15ch 3ch 0#ffffff,16ch 3ch 0#ffffff,0ch 4ch 0#ffffff,1ch 4ch 0#ffffff,2ch 4ch 0#ffffff,3ch 4ch 0#ffffff,4ch 4ch 0#764719,5ch 4ch 0#a86727,6ch 4ch 0#a86727,7ch 4ch 0#a86727,8ch 4ch 0#cc7c33,9ch 4ch 0#a86727,10ch 4ch 0#cc7c33,11ch 4ch 0#cc7c33,12ch 4ch 0#cc7c33,13ch 4ch 0#a86727,14ch 4ch 0#ffffff,15ch 4ch 0#ffffff,16ch 4ch 0#ffffff,0ch 5ch 0#ffffff,1ch 5ch 0#ffffff,2ch 5ch 0#ffffff,3ch 5ch 0#764719,4ch 5ch 0#a86727,5ch 5ch 0#a86727,6ch 5ch 0#a86727,7ch 5ch 0#cc7c33,8ch 5ch 0#a86727,9ch 5ch 0#cc7c33,10ch 5ch 0#a86727,11ch 5ch 0#cc7c33,12ch 5ch 0#cc7c33,13ch 5ch 0#cc7c33,14ch 5ch 0#a86727,15ch 5ch 0#ffffff,16ch 5ch 0#ffffff,0ch 6ch 0#ffffff,1ch 6ch 0#ffffff,2ch 6ch 0#ffffff,3ch 6ch 0#764719,4ch 6ch 0#a86727,5ch 6ch 0#a86727,6ch 6ch 0#a86727,7ch 6ch 0#a86727,8ch 6ch 0#cc7c33,9ch 6ch 0#cc7c33,10ch 6ch 0#cc7c33,11ch 6ch 0#cc7c33,12ch 6ch 0#cc7c33,13ch 6ch 0#cc7c33,14ch 6ch 0#a86727,15ch 6ch 0#ffffff,16ch 6ch 0#ffffff,0ch 7ch 0#ffffff,1ch 7ch 0#ffffff,2ch 7ch 0#ffffff,3ch 7ch 0#764719,4ch 7ch 0#a86727,5ch 7ch 0#a86727,6ch 7ch 0#a86727,7ch 7ch 0#cc7c33,8ch 7ch 0#cc7c33,9ch 7ch 0#cc7c33,10ch 7ch 0#cc7c33,11ch 7ch 0#cc7c33,12ch 7ch 0#cc7c33,13ch 7ch 0#cc7c33,14ch 7ch 0#a86727,15ch 7ch 0#ffffff,16ch 7ch 0#ffffff,0ch 8ch 0#ffffff,1ch 8ch 0#ffffff,2ch 8ch 0#ffffff,3ch 8ch 0#764719,4ch 8ch 0#a86727,5ch 8ch 0#a86727,6ch 8ch 0#764719,7ch 8ch 0#a86727,8ch 8ch 0#cc7c33,9ch 8ch 0#cc7c33,10ch 8ch 0#ffffff,11ch 8ch 0#ffffff,12ch 8ch 0#cc7c33,13ch 8ch 0#ffffff,14ch 8ch 0#a86727,15ch 8ch 0#ffffff,16ch 8ch 0#ffffff,0ch 9ch 0#ffffff,1ch 9ch 0#ffffff,2ch 9ch 0#ffffff,3ch 9ch 0#764719,4ch 9ch 0#a86727,5ch 9ch 0#764719,6ch 9ch 0#cc7c33,7ch 9ch 0#cc7c33,8ch 9ch 0#cc7c33,9ch 9ch 0#cc7c33,10ch 9ch 0#ffffff,11ch 9ch 0#000000,12ch 9ch 0#cc7c33,13ch 9ch 0#000000,14ch 9ch 0#a86727,15ch 9ch 0#ffffff,16ch 9ch 0#ffffff,0ch 10ch 0#b0acab,1ch 10ch 0#b0acab,2ch 10ch 0#b0acab,3ch 10ch 0#a86727,4ch 10ch 0#a86727,5ch 10ch 0#764719,6ch 10ch 0#cc7c33,7ch 10ch 0#cc7c33,8ch 10ch 0#cc7c33,9ch 10ch 0#cc7c33,10ch 10ch 0#ffffff,11ch 10ch 0#000000,12ch 10ch 0#cc7c33,13ch 10ch 0#000000,14ch 10ch 0#a86727,15ch 10ch 0#ffffff,16ch 10ch 0#ffffff,0ch 11ch 0#ebe3e0,1ch 11ch 0#ebe3e0,2ch 11ch 0#b0acab,3ch 11ch 0#a86727,4ch 11ch 0#a86727,5ch 11ch 0#764719,6ch 11ch 0#cc7c33,7ch 11ch 0#cc7c33,8ch 11ch 0#cc7c33,9ch 11ch 0#cc7c33,10ch 11ch 0#cc7c33,11ch 11ch 0#cc7c33,12ch 11ch 0#cc7c33,13ch 11ch 0#cc7c33,14ch 11ch 0#a86727,15ch 11ch 0#ffffff,16ch 11ch 0#ffffff,0ch 12ch 0#ebe3e0,1ch 12ch 0#b0acab,2ch 12ch 0#a86727,3ch 12ch 0#a86727,4ch 12ch 0#a86727,5ch 12ch 0#a86727,6ch 12ch 0#764719,7ch 12ch 0#a86727,8ch 12ch 0#cc7c33,9ch 12ch 0#ffffff,10ch 12ch 0#cc7c33,11ch 12ch 0#cc7c33,12ch 12ch 0#cc7c33,13ch 12ch 0#cc7c33,14ch 12ch 0#a86727,15ch 12ch 0#ffffff,16ch 12ch 0#ffffff,0ch 13ch 0#ebe3e0,1ch 13ch 0#b0acab,2ch 13ch 0#a86727,3ch 13ch 0#a86727,4ch 13ch 0#a86727,5ch 13ch 0#a86727,6ch 13ch 0#a86727,7ch 13ch 0#cc7c33,8ch 13ch 0#cc7c33,9ch 13ch 0#cc7c33,10ch 13ch 0#ffffff,11ch 13ch 0#ffffff,12ch 13ch 0#ffffff,13ch 13ch 0#a86727,14ch 13ch 0#ffffff,15ch 13ch 0#ffffff,16ch 13ch 0#ffffff,0ch 14ch 0#ebe3e0,1ch 14ch 0#b0acab,2ch 14ch 0#a86727,3ch 14ch 0#a86727,4ch 14ch 0#764719,5ch 14ch 0#a86727,6ch 14ch 0#a86727,7ch 14ch 0#a86727,8ch 14ch 0#cc7c33,9ch 14ch 0#cc7c33,10ch 14ch 0#cc7c33,11ch 14ch 0#cc7c33,12ch 14ch 0#cc7c33,13ch 14ch 0#a86727,14ch 14ch 0#ffffff,15ch 14ch 0#ffffff,16ch 14ch 0#ffffff,0ch 15ch 0#ebe3e0,1ch 15ch 0#ebe3e0,2ch 15ch 0#b0acab,3ch 15ch 0#a86727,4ch 15ch 0#a86727,5ch 15ch 0#764719,6ch 15ch 0#764719,7ch 15ch 0#cc7c33,8ch 15ch 0#a86727,9ch 15ch 0#a86727,10ch 15ch 0#cc7c33,11ch 15ch 0#cc7c33,12ch 15ch 0#cc7c33,13ch 15ch 0#a86727,14ch 15ch 0#ffffff,15ch 15ch 0#ffffff,16ch 15ch 0#ffffff,0ch 16ch 0#ebe3e0,1ch 16ch 0#ebe3e0,2ch 16ch 0#b0acab,3ch 16ch 0#a86727,4ch 16ch 0#a86727,5ch 16ch 0#a86727,6ch 16ch 0#a86727,7ch 16ch 0#b0acab,8ch 16ch 0#b0acab,9ch 16ch 0#b0acab,10ch 16ch 0#b0acab,11ch 16ch 0#b0acab,12ch 16ch 0#b0acab,13ch 16ch 0#ffffff,14ch 16ch 0#a86727,15ch 16ch 0#a86727,16ch 16ch 0#a86727,0ch 17ch 0#ebe3e0,1ch 17ch 0#ebe3e0,2ch 17ch 0#ebe3e0,3ch 17ch 0#b0acab,4ch 17ch 0#b0acab,5ch 17ch 0#b0acab,6ch 17ch 0#b0acab,7ch 17ch 0#b0acab,8ch 17ch 0#ebe3e0,9ch 17ch 0#ebe3e0,10ch 17ch 0#ebe3e0,11ch 17ch 0#ebe3e0,12ch 17ch 0#b0acab,13ch 17ch 0#ffffff,14ch 17ch 0#a86727,15ch 17ch 0#cc7c33,16ch 17ch 0#cc7c33;"),console.log(`%c${t} v${r} by Matnard`,"background-color: black; padding: 0.75em; color:white; font-family: sans-serif; font-weight: 300;")}},{}],MrHW:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Loader=e.loadAsset=e.batchLoad=void 0;const a=function(t,r){const e=t.length;let a=0;return t.forEach(t=>{t.then(function(){r(++a/e)})}),Promise.all(t)};e.batchLoad=a;const n=function(t){"string"==typeof t&&(t={url:t});const{url:r,mimeType:e}=t;return fetch(r).then(t=>t.blob()).then(t=>{const r=e||t.type;return(0,{"image/png":i,"model/gltf+json":c,"text/html":o}[r])(t)}).then(t=>{const e={};return e[r]=t,e})};e.loadAsset=n;const o=t=>new Promise(function(r,e){const a=new FileReader;a.onload=function(){r(this.result)},a.onerror=function(t){e(t)},a.readAsText(t)}),c=t=>new Promise(function(r,e){const a=new FileReader;a.onload=function(){r(JSON.parse(this.result))},a.onerror=function(t){e(t)},a.readAsText(t)}),i=t=>{var r=URL.createObjectURL(t),e=new Image;return e.src=r,e};e.Loader=class{constructor(t){this.onProgress=t.onProgress,this.loaders=t.assets.map(t=>n(t))||[],this.waitingScreen=document.createElement("div"),this.waitingScreen.style.backgroundColor="rgba(0,0,0,1)",this.waitingScreen.style.width="100%",this.waitingScreen.style.height="100vh",this.waitingScreen.style.position="fixed",this.waitingScreen.style.zIndex="1000",this.waitingScreen.style.display="flex",this.waitingScreen.style.justifyContent="center",this.waitingScreen.style.alignItems="center",this.logo=document.createElement("img"),this.logo.style.width="50px",this.logo.src="https://matnard.github.io/NardGL/images/profile-51.png",this.waitingScreen.appendChild(this.logo),document.body.appendChild(this.waitingScreen)}add(t){return this.loaders.push(n(t)),this}addArray(t){return this.loaders=this.loaders.concat(t.map(t=>n(t))),this}start(){return a(this.loaders,t=>{this.waitingScreen.style.backgroundColor=`rgba(0,0,0,${1-t})`,this.onProgress(t)}).then(t=>(document.body.removeChild(this.waitingScreen),t.reduce((t,r)=>(t[Object.keys(r)[0]]=r[Object.keys(r)[0]],t),{})))}}},{}],N31D:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getGLSLType=e.getTypedArray=e.getSize=e.createProgramFromSource=e.createShader=e.createProgram=e.resizeCanvas=e.randomInt=void 0;const a=function(t,r,e){const a=t.createShader(r);if(t.shaderSource(a,e),t.compileShader(a),t.getShaderParameter(a,t.COMPILE_STATUS))return a;console.log(t.getShaderInfoLog(a)),t.deleteShader(a)};e.createShader=a;const n=function(t,r,e){const a=t.createProgram();if(t.attachShader(a,r),t.attachShader(a,e),t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS))return a;console.log(t.getProgramInfoLog(a)),t.deleteProgram(a)};e.createProgram=n;e.createProgramFromSource=function(t,r,e){const o=a(t,t.VERTEX_SHADER,r),c=a(t,t.FRAGMENT_SHADER,e);return n(t,o,c)};e.resizeCanvas=function(t){var r=t.clientWidth,e=t.clientHeight;t.width===r&&t.height===e||(t.width=r,t.height=e)};e.randomInt=function(t){return Math.floor(Math.random()*t)};const o=function(t){return{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}[t]};e.getSize=o;e.getGLSLType=function(t,r){const e=o(r);return{5126:function(t){return{1:"float",2:"vec2",3:"vec3",4:"vec4"}[t]},5123:function(t){return{1:"int",2:"ivec2",3:"ivec3",4:"ivec4"}[t]}}[t](e)};e.getTypedArray=function(t,r){return new{5126:Float32Array,5123:Uint16Array}[r](t)}},{}],RI4K:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=n=t},e.toRadian=function(t){return t*c},e.equals=function(t,r){return Math.abs(t-r)<=a*Math.max(1,Math.abs(t),Math.abs(r))},e.RANDOM=e.ARRAY_TYPE=e.EPSILON=void 0;var a=1e-6;e.EPSILON=a;var n="undefined"!=typeof Float32Array?Float32Array:Array;e.ARRAY_TYPE=n;var o=Math.random;e.RANDOM=o;var c=Math.PI/180},{}],FqjV:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new a.ARRAY_TYPE(4);return a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},e.clone=function(t){var r=new a.ARRAY_TYPE(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},e.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.fromValues=function(t,r,e,n){var o=new a.ARRAY_TYPE(4);return o[0]=t,o[1]=r,o[2]=e,o[3]=n,o},e.set=function(t,r,e,a,n){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t},e.transpose=function(t,r){if(t===r){var e=r[1];t[1]=r[2],t[2]=e}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t},e.invert=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=e*o-n*a;return c?(c=1/c,t[0]=o*c,t[1]=-a*c,t[2]=-n*c,t[3]=e*c,t):null},e.adjoint=function(t,r){var e=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=e,t},e.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},e.multiply=n,e.rotate=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=Math.sin(e),u=Math.cos(e);return t[0]=a*u+o*i,t[1]=n*u+c*i,t[2]=a*-i+o*u,t[3]=n*-i+c*u,t},e.scale=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=e[0],u=e[1];return t[0]=a*i,t[1]=n*i,t[2]=o*u,t[3]=c*u,t},e.fromRotation=function(t,r){var e=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=e,t[2]=-e,t[3]=a,t},e.fromScaling=function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t},e.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},e.LDU=function(t,r,e,a){return t[2]=a[2]/a[0],e[0]=a[0],e[1]=a[1],e[3]=a[3]-t[2]*e[1],[t,r,e]},e.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t},e.subtract=o,e.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]},e.equals=function(t,r){var e=t[0],n=t[1],o=t[2],c=t[3],i=r[0],u=r[1],s=r[2],f=r[3];return Math.abs(e-i)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(n-u)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-s)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(c-f)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(f))},e.multiplyScalar=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t},e.multiplyScalarAndAdd=function(t,r,e,a){return t[0]=r[0]+e[0]*a,t[1]=r[1]+e[1]*a,t[2]=r[2]+e[2]*a,t[3]=r[3]+e[3]*a,t},e.sub=e.mul=void 0;var a=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}(t("./common.js"));function n(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=e[0],u=e[1],s=e[2],f=e[3];return t[0]=a*i+o*u,t[1]=n*i+c*u,t[2]=a*s+o*f,t[3]=n*s+c*f,t}function o(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}var c=n;e.mul=c;var i=o;e.sub=i},{"./common.js":"RI4K"}],Ccx3:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new a.ARRAY_TYPE(6);return a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t},e.clone=function(t){var r=new a.ARRAY_TYPE(6);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r},e.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.fromValues=function(t,r,e,n,o,c){var i=new a.ARRAY_TYPE(6);return i[0]=t,i[1]=r,i[2]=e,i[3]=n,i[4]=o,i[5]=c,i},e.set=function(t,r,e,a,n,o,c){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t[4]=o,t[5]=c,t},e.invert=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=r[4],i=r[5],u=e*o-a*n;return u?(u=1/u,t[0]=o*u,t[1]=-a*u,t[2]=-n*u,t[3]=e*u,t[4]=(n*i-o*c)*u,t[5]=(a*c-e*i)*u,t):null},e.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},e.multiply=n,e.rotate=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=Math.sin(e),f=Math.cos(e);return t[0]=a*f+o*s,t[1]=n*f+c*s,t[2]=a*-s+o*f,t[3]=n*-s+c*f,t[4]=i,t[5]=u,t},e.scale=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=e[0],f=e[1];return t[0]=a*s,t[1]=n*s,t[2]=o*f,t[3]=c*f,t[4]=i,t[5]=u,t},e.translate=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=e[0],f=e[1];return t[0]=a,t[1]=n,t[2]=o,t[3]=c,t[4]=a*s+o*f+i,t[5]=n*s+c*f+u,t},e.fromRotation=function(t,r){var e=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=e,t[2]=-e,t[3]=a,t[4]=0,t[5]=0,t},e.fromScaling=function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t[4]=0,t[5]=0,t},e.fromTranslation=function(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=r[0],t[5]=r[1],t},e.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t},e.subtract=o,e.multiplyScalar=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t},e.multiplyScalarAndAdd=function(t,r,e,a){return t[0]=r[0]+e[0]*a,t[1]=r[1]+e[1]*a,t[2]=r[2]+e[2]*a,t[3]=r[3]+e[3]*a,t[4]=r[4]+e[4]*a,t[5]=r[5]+e[5]*a,t},e.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]},e.equals=function(t,r){var e=t[0],n=t[1],o=t[2],c=t[3],i=t[4],u=t[5],s=r[0],f=r[1],h=r[2],l=r[3],M=r[4],m=r[5];return Math.abs(e-s)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(n-f)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(o-h)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(c-l)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(l))&&Math.abs(i-M)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(u-m)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))},e.sub=e.mul=void 0;var a=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}(t("./common.js"));function n(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=e[0],f=e[1],h=e[2],l=e[3],M=e[4],m=e[5];return t[0]=a*s+o*f,t[1]=n*s+c*f,t[2]=a*h+o*l,t[3]=n*h+c*l,t[4]=a*M+o*m+i,t[5]=n*M+c*m+u,t}function o(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t}var c=n;e.mul=c;var i=o;e.sub=i},{"./common.js":"RI4K"}],"/nF3":[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new a.ARRAY_TYPE(9);return a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t},e.clone=function(t){var r=new a.ARRAY_TYPE(9);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r},e.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t},e.fromValues=function(t,r,e,n,o,c,i,u,s){var f=new a.ARRAY_TYPE(9);return f[0]=t,f[1]=r,f[2]=e,f[3]=n,f[4]=o,f[5]=c,f[6]=i,f[7]=u,f[8]=s,f},e.set=function(t,r,e,a,n,o,c,i,u,s){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t[4]=o,t[5]=c,t[6]=i,t[7]=u,t[8]=s,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,r){if(t===r){var e=r[1],a=r[2],n=r[5];t[1]=r[3],t[2]=r[6],t[3]=e,t[5]=r[7],t[6]=a,t[7]=n}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t},e.invert=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=r[4],i=r[5],u=r[6],s=r[7],f=r[8],h=f*c-i*s,l=-f*o+i*u,M=s*o-c*u,m=e*h+a*l+n*M;return m?(m=1/m,t[0]=h*m,t[1]=(-f*a+n*s)*m,t[2]=(i*a-n*c)*m,t[3]=l*m,t[4]=(f*e-n*u)*m,t[5]=(-i*e+n*o)*m,t[6]=M*m,t[7]=(-s*e+a*u)*m,t[8]=(c*e-a*o)*m,t):null},e.adjoint=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=r[4],i=r[5],u=r[6],s=r[7],f=r[8];return t[0]=c*f-i*s,t[1]=n*s-a*f,t[2]=a*i-n*c,t[3]=i*u-o*f,t[4]=e*f-n*u,t[5]=n*o-e*i,t[6]=o*s-c*u,t[7]=a*u-e*s,t[8]=e*c-a*o,t},e.determinant=function(t){var r=t[0],e=t[1],a=t[2],n=t[3],o=t[4],c=t[5],i=t[6],u=t[7],s=t[8];return r*(s*o-c*u)+e*(-s*n+c*i)+a*(u*n-o*i)},e.multiply=n,e.translate=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=r[6],f=r[7],h=r[8],l=e[0],M=e[1];return t[0]=a,t[1]=n,t[2]=o,t[3]=c,t[4]=i,t[5]=u,t[6]=l*a+M*c+s,t[7]=l*n+M*i+f,t[8]=l*o+M*u+h,t},e.rotate=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=r[6],f=r[7],h=r[8],l=Math.sin(e),M=Math.cos(e);return t[0]=M*a+l*c,t[1]=M*n+l*i,t[2]=M*o+l*u,t[3]=M*c-l*a,t[4]=M*i-l*n,t[5]=M*u-l*o,t[6]=s,t[7]=f,t[8]=h,t},e.scale=function(t,r,e){var a=e[0],n=e[1];return t[0]=a*r[0],t[1]=a*r[1],t[2]=a*r[2],t[3]=n*r[3],t[4]=n*r[4],t[5]=n*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t},e.fromTranslation=function(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=r[0],t[7]=r[1],t[8]=1,t},e.fromRotation=function(t,r){var e=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=e,t[2]=0,t[3]=-e,t[4]=a,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=r[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t},e.fromQuat=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=e+e,i=a+a,u=n+n,s=e*c,f=a*c,h=a*i,l=n*c,M=n*i,m=n*u,d=o*c,v=o*i,b=o*u;return t[0]=1-h-m,t[3]=f-b,t[6]=l+v,t[1]=f+b,t[4]=1-s-m,t[7]=M-d,t[2]=l-v,t[5]=M+d,t[8]=1-s-h,t},e.normalFromMat4=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=r[4],i=r[5],u=r[6],s=r[7],f=r[8],h=r[9],l=r[10],M=r[11],m=r[12],d=r[13],v=r[14],b=r[15],p=e*i-a*c,y=e*u-n*c,g=e*s-o*c,P=a*u-n*i,O=a*s-o*i,E=n*s-o*u,x=f*d-h*m,j=f*v-l*m,A=f*b-M*m,R=h*v-l*d,w=h*b-M*d,_=l*b-M*v,T=p*_-y*w+g*R+P*A-O*j+E*x;return T?(T=1/T,t[0]=(i*_-u*w+s*R)*T,t[1]=(u*A-c*_-s*j)*T,t[2]=(c*w-i*A+s*x)*T,t[3]=(n*w-a*_-o*R)*T,t[4]=(e*_-n*A+o*j)*T,t[5]=(a*A-e*w-o*x)*T,t[6]=(d*E-v*O+b*P)*T,t[7]=(v*g-m*E-b*y)*T,t[8]=(m*O-d*g+b*p)*T,t):null},e.projection=function(t,r,e){return t[0]=2/r,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/e,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t[6]=r[6]+e[6],t[7]=r[7]+e[7],t[8]=r[8]+e[8],t},e.subtract=o,e.multiplyScalar=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t[8]=r[8]*e,t},e.multiplyScalarAndAdd=function(t,r,e,a){return t[0]=r[0]+e[0]*a,t[1]=r[1]+e[1]*a,t[2]=r[2]+e[2]*a,t[3]=r[3]+e[3]*a,t[4]=r[4]+e[4]*a,t[5]=r[5]+e[5]*a,t[6]=r[6]+e[6]*a,t[7]=r[7]+e[7]*a,t[8]=r[8]+e[8]*a,t},e.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]},e.equals=function(t,r){var e=t[0],n=t[1],o=t[2],c=t[3],i=t[4],u=t[5],s=t[6],f=t[7],h=t[8],l=r[0],M=r[1],m=r[2],d=r[3],v=r[4],b=r[5],p=r[6],y=r[7],g=r[8];return Math.abs(e-l)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(n-M)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(o-m)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(c-d)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(d))&&Math.abs(i-v)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(u-b)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(s-p)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(f-y)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(y))&&Math.abs(h-g)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(g))},e.sub=e.mul=void 0;var a=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}(t("./common.js"));function n(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=r[6],f=r[7],h=r[8],l=e[0],M=e[1],m=e[2],d=e[3],v=e[4],b=e[5],p=e[6],y=e[7],g=e[8];return t[0]=l*a+M*c+m*s,t[1]=l*n+M*i+m*f,t[2]=l*o+M*u+m*h,t[3]=d*a+v*c+b*s,t[4]=d*n+v*i+b*f,t[5]=d*o+v*u+b*h,t[6]=p*a+y*c+g*s,t[7]=p*n+y*i+g*f,t[8]=p*o+y*u+g*h,t}function o(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t[6]=r[6]-e[6],t[7]=r[7]-e[7],t[8]=r[8]-e[8],t}var c=n;e.mul=c;var i=o;e.sub=i},{"./common.js":"RI4K"}],IMFL:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new a.ARRAY_TYPE(16);return a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},e.clone=function(t){var r=new a.ARRAY_TYPE(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},e.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},e.fromValues=function(t,r,e,n,o,c,i,u,s,f,h,l,M,m,d,v){var b=new a.ARRAY_TYPE(16);return b[0]=t,b[1]=r,b[2]=e,b[3]=n,b[4]=o,b[5]=c,b[6]=i,b[7]=u,b[8]=s,b[9]=f,b[10]=h,b[11]=l,b[12]=M,b[13]=m,b[14]=d,b[15]=v,b},e.set=function(t,r,e,a,n,o,c,i,u,s,f,h,l,M,m,d,v){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t[4]=o,t[5]=c,t[6]=i,t[7]=u,t[8]=s,t[9]=f,t[10]=h,t[11]=l,t[12]=M,t[13]=m,t[14]=d,t[15]=v,t},e.identity=n,e.transpose=function(t,r){if(t===r){var e=r[1],a=r[2],n=r[3],o=r[6],c=r[7],i=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=e,t[6]=r[9],t[7]=r[13],t[8]=a,t[9]=o,t[11]=r[14],t[12]=n,t[13]=c,t[14]=i}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t},e.invert=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=r[4],i=r[5],u=r[6],s=r[7],f=r[8],h=r[9],l=r[10],M=r[11],m=r[12],d=r[13],v=r[14],b=r[15],p=e*i-a*c,y=e*u-n*c,g=e*s-o*c,P=a*u-n*i,O=a*s-o*i,E=n*s-o*u,x=f*d-h*m,j=f*v-l*m,A=f*b-M*m,R=h*v-l*d,w=h*b-M*d,_=l*b-M*v,T=p*_-y*w+g*R+P*A-O*j+E*x;return T?(T=1/T,t[0]=(i*_-u*w+s*R)*T,t[1]=(n*w-a*_-o*R)*T,t[2]=(d*E-v*O+b*P)*T,t[3]=(l*O-h*E-M*P)*T,t[4]=(u*A-c*_-s*j)*T,t[5]=(e*_-n*A+o*j)*T,t[6]=(v*g-m*E-b*y)*T,t[7]=(f*E-l*g+M*y)*T,t[8]=(c*w-i*A+s*x)*T,t[9]=(a*A-e*w-o*x)*T,t[10]=(m*O-d*g+b*p)*T,t[11]=(h*g-f*O-M*p)*T,t[12]=(i*j-c*R-u*x)*T,t[13]=(e*R-a*j+n*x)*T,t[14]=(d*y-m*P-v*p)*T,t[15]=(f*P-h*y+l*p)*T,t):null},e.adjoint=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=r[4],i=r[5],u=r[6],s=r[7],f=r[8],h=r[9],l=r[10],M=r[11],m=r[12],d=r[13],v=r[14],b=r[15];return t[0]=i*(l*b-M*v)-h*(u*b-s*v)+d*(u*M-s*l),t[1]=-(a*(l*b-M*v)-h*(n*b-o*v)+d*(n*M-o*l)),t[2]=a*(u*b-s*v)-i*(n*b-o*v)+d*(n*s-o*u),t[3]=-(a*(u*M-s*l)-i*(n*M-o*l)+h*(n*s-o*u)),t[4]=-(c*(l*b-M*v)-f*(u*b-s*v)+m*(u*M-s*l)),t[5]=e*(l*b-M*v)-f*(n*b-o*v)+m*(n*M-o*l),t[6]=-(e*(u*b-s*v)-c*(n*b-o*v)+m*(n*s-o*u)),t[7]=e*(u*M-s*l)-c*(n*M-o*l)+f*(n*s-o*u),t[8]=c*(h*b-M*d)-f*(i*b-s*d)+m*(i*M-s*h),t[9]=-(e*(h*b-M*d)-f*(a*b-o*d)+m*(a*M-o*h)),t[10]=e*(i*b-s*d)-c*(a*b-o*d)+m*(a*s-o*i),t[11]=-(e*(i*M-s*h)-c*(a*M-o*h)+f*(a*s-o*i)),t[12]=-(c*(h*v-l*d)-f*(i*v-u*d)+m*(i*l-u*h)),t[13]=e*(h*v-l*d)-f*(a*v-n*d)+m*(a*l-n*h),t[14]=-(e*(i*v-u*d)-c*(a*v-n*d)+m*(a*u-n*i)),t[15]=e*(i*l-u*h)-c*(a*l-n*h)+f*(a*u-n*i),t},e.determinant=function(t){var r=t[0],e=t[1],a=t[2],n=t[3],o=t[4],c=t[5],i=t[6],u=t[7],s=t[8],f=t[9],h=t[10],l=t[11],M=t[12],m=t[13],d=t[14],v=t[15];return(r*c-e*o)*(h*v-l*d)-(r*i-a*o)*(f*v-l*m)+(r*u-n*o)*(f*d-h*m)+(e*i-a*c)*(s*v-l*M)-(e*u-n*c)*(s*d-h*M)+(a*u-n*i)*(s*m-f*M)},e.multiply=o,e.translate=function(t,r,e){var a,n,o,c,i,u,s,f,h,l,M,m,d=e[0],v=e[1],b=e[2];return r===t?(t[12]=r[0]*d+r[4]*v+r[8]*b+r[12],t[13]=r[1]*d+r[5]*v+r[9]*b+r[13],t[14]=r[2]*d+r[6]*v+r[10]*b+r[14],t[15]=r[3]*d+r[7]*v+r[11]*b+r[15]):(a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=r[6],f=r[7],h=r[8],l=r[9],M=r[10],m=r[11],t[0]=a,t[1]=n,t[2]=o,t[3]=c,t[4]=i,t[5]=u,t[6]=s,t[7]=f,t[8]=h,t[9]=l,t[10]=M,t[11]=m,t[12]=a*d+i*v+h*b+r[12],t[13]=n*d+u*v+l*b+r[13],t[14]=o*d+s*v+M*b+r[14],t[15]=c*d+f*v+m*b+r[15]),t},e.scale=function(t,r,e){var a=e[0],n=e[1],o=e[2];return t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t[3]=r[3]*a,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=r[11]*o,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},e.rotate=function(t,r,e,n){var o,c,i,u,s,f,h,l,M,m,d,v,b,p,y,g,P,O,E,x,j,A,R,w,_=n[0],T=n[1],S=n[2],L=Math.sqrt(_*_+T*T+S*S);return L<a.EPSILON?null:(_*=L=1/L,T*=L,S*=L,o=Math.sin(e),i=1-(c=Math.cos(e)),u=r[0],s=r[1],f=r[2],h=r[3],l=r[4],M=r[5],m=r[6],d=r[7],v=r[8],b=r[9],p=r[10],y=r[11],g=_*_*i+c,P=T*_*i+S*o,O=S*_*i-T*o,E=_*T*i-S*o,x=T*T*i+c,j=S*T*i+_*o,A=_*S*i+T*o,R=T*S*i-_*o,w=S*S*i+c,t[0]=u*g+l*P+v*O,t[1]=s*g+M*P+b*O,t[2]=f*g+m*P+p*O,t[3]=h*g+d*P+y*O,t[4]=u*E+l*x+v*j,t[5]=s*E+M*x+b*j,t[6]=f*E+m*x+p*j,t[7]=h*E+d*x+y*j,t[8]=u*A+l*R+v*w,t[9]=s*A+M*R+b*w,t[10]=f*A+m*R+p*w,t[11]=h*A+d*R+y*w,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)},e.rotateX=function(t,r,e){var a=Math.sin(e),n=Math.cos(e),o=r[4],c=r[5],i=r[6],u=r[7],s=r[8],f=r[9],h=r[10],l=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=o*n+s*a,t[5]=c*n+f*a,t[6]=i*n+h*a,t[7]=u*n+l*a,t[8]=s*n-o*a,t[9]=f*n-c*a,t[10]=h*n-i*a,t[11]=l*n-u*a,t},e.rotateY=function(t,r,e){var a=Math.sin(e),n=Math.cos(e),o=r[0],c=r[1],i=r[2],u=r[3],s=r[8],f=r[9],h=r[10],l=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*n-s*a,t[1]=c*n-f*a,t[2]=i*n-h*a,t[3]=u*n-l*a,t[8]=o*a+s*n,t[9]=c*a+f*n,t[10]=i*a+h*n,t[11]=u*a+l*n,t},e.rotateZ=function(t,r,e){var a=Math.sin(e),n=Math.cos(e),o=r[0],c=r[1],i=r[2],u=r[3],s=r[4],f=r[5],h=r[6],l=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*n+s*a,t[1]=c*n+f*a,t[2]=i*n+h*a,t[3]=u*n+l*a,t[4]=s*n-o*a,t[5]=f*n-c*a,t[6]=h*n-i*a,t[7]=l*n-u*a,t},e.fromTranslation=function(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},e.fromScaling=function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=r[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotation=function(t,r,e){var n,o,c,i=e[0],u=e[1],s=e[2],f=Math.sqrt(i*i+u*u+s*s);return f<a.EPSILON?null:(i*=f=1/f,u*=f,s*=f,n=Math.sin(r),c=1-(o=Math.cos(r)),t[0]=i*i*c+o,t[1]=u*i*c+s*n,t[2]=s*i*c-u*n,t[3]=0,t[4]=i*u*c-s*n,t[5]=u*u*c+o,t[6]=s*u*c+i*n,t[7]=0,t[8]=i*s*c+u*n,t[9]=u*s*c-i*n,t[10]=s*s*c+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},e.fromXRotation=function(t,r){var e=Math.sin(r),a=Math.cos(r);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromYRotation=function(t,r){var e=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromZRotation=function(t,r){var e=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotationTranslation=c,e.fromQuat2=function(t,r){var e=new a.ARRAY_TYPE(3),n=-r[0],o=-r[1],i=-r[2],u=r[3],s=r[4],f=r[5],h=r[6],l=r[7],M=n*n+o*o+i*i+u*u;return M>0?(e[0]=2*(s*u+l*n+f*i-h*o)/M,e[1]=2*(f*u+l*o+h*n-s*i)/M,e[2]=2*(h*u+l*i+s*o-f*n)/M):(e[0]=2*(s*u+l*n+f*i-h*o),e[1]=2*(f*u+l*o+h*n-s*i),e[2]=2*(h*u+l*i+s*o-f*n)),c(t,r,e),t},e.getTranslation=function(t,r){return t[0]=r[12],t[1]=r[13],t[2]=r[14],t},e.getScaling=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[4],c=r[5],i=r[6],u=r[8],s=r[9],f=r[10];return t[0]=Math.sqrt(e*e+a*a+n*n),t[1]=Math.sqrt(o*o+c*c+i*i),t[2]=Math.sqrt(u*u+s*s+f*f),t},e.getRotation=function(t,r){var e=r[0]+r[5]+r[10],a=0;return e>0?(a=2*Math.sqrt(e+1),t[3]=.25*a,t[0]=(r[6]-r[9])/a,t[1]=(r[8]-r[2])/a,t[2]=(r[1]-r[4])/a):r[0]>r[5]&&r[0]>r[10]?(a=2*Math.sqrt(1+r[0]-r[5]-r[10]),t[3]=(r[6]-r[9])/a,t[0]=.25*a,t[1]=(r[1]+r[4])/a,t[2]=(r[8]+r[2])/a):r[5]>r[10]?(a=2*Math.sqrt(1+r[5]-r[0]-r[10]),t[3]=(r[8]-r[2])/a,t[0]=(r[1]+r[4])/a,t[1]=.25*a,t[2]=(r[6]+r[9])/a):(a=2*Math.sqrt(1+r[10]-r[0]-r[5]),t[3]=(r[1]-r[4])/a,t[0]=(r[8]+r[2])/a,t[1]=(r[6]+r[9])/a,t[2]=.25*a),t},e.fromRotationTranslationScale=function(t,r,e,a){var n=r[0],o=r[1],c=r[2],i=r[3],u=n+n,s=o+o,f=c+c,h=n*u,l=n*s,M=n*f,m=o*s,d=o*f,v=c*f,b=i*u,p=i*s,y=i*f,g=a[0],P=a[1],O=a[2];return t[0]=(1-(m+v))*g,t[1]=(l+y)*g,t[2]=(M-p)*g,t[3]=0,t[4]=(l-y)*P,t[5]=(1-(h+v))*P,t[6]=(d+b)*P,t[7]=0,t[8]=(M+p)*O,t[9]=(d-b)*O,t[10]=(1-(h+m))*O,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},e.fromRotationTranslationScaleOrigin=function(t,r,e,a,n){var o=r[0],c=r[1],i=r[2],u=r[3],s=o+o,f=c+c,h=i+i,l=o*s,M=o*f,m=o*h,d=c*f,v=c*h,b=i*h,p=u*s,y=u*f,g=u*h,P=a[0],O=a[1],E=a[2],x=n[0],j=n[1],A=n[2],R=(1-(d+b))*P,w=(M+g)*P,_=(m-y)*P,T=(M-g)*O,S=(1-(l+b))*O,L=(v+p)*O,I=(m+y)*E,q=(v-p)*E,N=(1-(l+d))*E;return t[0]=R,t[1]=w,t[2]=_,t[3]=0,t[4]=T,t[5]=S,t[6]=L,t[7]=0,t[8]=I,t[9]=q,t[10]=N,t[11]=0,t[12]=e[0]+x-(R*x+T*j+I*A),t[13]=e[1]+j-(w*x+S*j+q*A),t[14]=e[2]+A-(_*x+L*j+N*A),t[15]=1,t},e.fromQuat=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=e+e,i=a+a,u=n+n,s=e*c,f=a*c,h=a*i,l=n*c,M=n*i,m=n*u,d=o*c,v=o*i,b=o*u;return t[0]=1-h-m,t[1]=f+b,t[2]=l-v,t[3]=0,t[4]=f-b,t[5]=1-s-m,t[6]=M+d,t[7]=0,t[8]=l+v,t[9]=M-d,t[10]=1-s-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.frustum=function(t,r,e,a,n,o,c){var i=1/(e-r),u=1/(n-a),s=1/(o-c);return t[0]=2*o*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(e+r)*i,t[9]=(n+a)*u,t[10]=(c+o)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=c*o*2*s,t[15]=0,t},e.perspective=function(t,r,e,a,n){var o,c=1/Math.tan(r/2);return t[0]=c/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=n&&n!==1/0?(o=1/(a-n),t[10]=(n+a)*o,t[14]=2*n*a*o):(t[10]=-1,t[14]=-2*a),t},e.perspectiveFromFieldOfView=function(t,r,e,a){var n=Math.tan(r.upDegrees*Math.PI/180),o=Math.tan(r.downDegrees*Math.PI/180),c=Math.tan(r.leftDegrees*Math.PI/180),i=Math.tan(r.rightDegrees*Math.PI/180),u=2/(c+i),s=2/(n+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(c-i)*u*.5,t[9]=(n-o)*s*.5,t[10]=a/(e-a),t[11]=-1,t[12]=0,t[13]=0,t[14]=a*e/(e-a),t[15]=0,t},e.ortho=function(t,r,e,a,n,o,c){var i=1/(r-e),u=1/(a-n),s=1/(o-c);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(r+e)*i,t[13]=(n+a)*u,t[14]=(c+o)*s,t[15]=1,t},e.lookAt=function(t,r,e,o){var c,i,u,s,f,h,l,M,m,d,v=r[0],b=r[1],p=r[2],y=o[0],g=o[1],P=o[2],O=e[0],E=e[1],x=e[2];return Math.abs(v-O)<a.EPSILON&&Math.abs(b-E)<a.EPSILON&&Math.abs(p-x)<a.EPSILON?n(t):(l=v-O,M=b-E,m=p-x,c=g*(m*=d=1/Math.sqrt(l*l+M*M+m*m))-P*(M*=d),i=P*(l*=d)-y*m,u=y*M-g*l,(d=Math.sqrt(c*c+i*i+u*u))?(c*=d=1/d,i*=d,u*=d):(c=0,i=0,u=0),s=M*u-m*i,f=m*c-l*u,h=l*i-M*c,(d=Math.sqrt(s*s+f*f+h*h))?(s*=d=1/d,f*=d,h*=d):(s=0,f=0,h=0),t[0]=c,t[1]=s,t[2]=l,t[3]=0,t[4]=i,t[5]=f,t[6]=M,t[7]=0,t[8]=u,t[9]=h,t[10]=m,t[11]=0,t[12]=-(c*v+i*b+u*p),t[13]=-(s*v+f*b+h*p),t[14]=-(l*v+M*b+m*p),t[15]=1,t)},e.targetTo=function(t,r,e,a){var n=r[0],o=r[1],c=r[2],i=a[0],u=a[1],s=a[2],f=n-e[0],h=o-e[1],l=c-e[2],M=f*f+h*h+l*l;M>0&&(f*=M=1/Math.sqrt(M),h*=M,l*=M);var m=u*l-s*h,d=s*f-i*l,v=i*h-u*f;return(M=m*m+d*d+v*v)>0&&(m*=M=1/Math.sqrt(M),d*=M,v*=M),t[0]=m,t[1]=d,t[2]=v,t[3]=0,t[4]=h*v-l*d,t[5]=l*m-f*v,t[6]=f*d-h*m,t[7]=0,t[8]=f,t[9]=h,t[10]=l,t[11]=0,t[12]=n,t[13]=o,t[14]=c,t[15]=1,t},e.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t[6]=r[6]+e[6],t[7]=r[7]+e[7],t[8]=r[8]+e[8],t[9]=r[9]+e[9],t[10]=r[10]+e[10],t[11]=r[11]+e[11],t[12]=r[12]+e[12],t[13]=r[13]+e[13],t[14]=r[14]+e[14],t[15]=r[15]+e[15],t},e.subtract=i,e.multiplyScalar=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t[8]=r[8]*e,t[9]=r[9]*e,t[10]=r[10]*e,t[11]=r[11]*e,t[12]=r[12]*e,t[13]=r[13]*e,t[14]=r[14]*e,t[15]=r[15]*e,t},e.multiplyScalarAndAdd=function(t,r,e,a){return t[0]=r[0]+e[0]*a,t[1]=r[1]+e[1]*a,t[2]=r[2]+e[2]*a,t[3]=r[3]+e[3]*a,t[4]=r[4]+e[4]*a,t[5]=r[5]+e[5]*a,t[6]=r[6]+e[6]*a,t[7]=r[7]+e[7]*a,t[8]=r[8]+e[8]*a,t[9]=r[9]+e[9]*a,t[10]=r[10]+e[10]*a,t[11]=r[11]+e[11]*a,t[12]=r[12]+e[12]*a,t[13]=r[13]+e[13]*a,t[14]=r[14]+e[14]*a,t[15]=r[15]+e[15]*a,t},e.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]&&t[9]===r[9]&&t[10]===r[10]&&t[11]===r[11]&&t[12]===r[12]&&t[13]===r[13]&&t[14]===r[14]&&t[15]===r[15]},e.equals=function(t,r){var e=t[0],n=t[1],o=t[2],c=t[3],i=t[4],u=t[5],s=t[6],f=t[7],h=t[8],l=t[9],M=t[10],m=t[11],d=t[12],v=t[13],b=t[14],p=t[15],y=r[0],g=r[1],P=r[2],O=r[3],E=r[4],x=r[5],j=r[6],A=r[7],R=r[8],w=r[9],_=r[10],T=r[11],S=r[12],L=r[13],I=r[14],q=r[15];return Math.abs(e-y)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(y))&&Math.abs(n-g)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(o-P)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(P))&&Math.abs(c-O)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(i-E)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(u-x)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(s-j)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(j))&&Math.abs(f-A)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(h-R)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(R))&&Math.abs(l-w)<=a.EPSILON*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(M-_)<=a.EPSILON*Math.max(1,Math.abs(M),Math.abs(_))&&Math.abs(m-T)<=a.EPSILON*Math.max(1,Math.abs(m),Math.abs(T))&&Math.abs(d-S)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(S))&&Math.abs(v-L)<=a.EPSILON*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(b-I)<=a.EPSILON*Math.max(1,Math.abs(b),Math.abs(I))&&Math.abs(p-q)<=a.EPSILON*Math.max(1,Math.abs(p),Math.abs(q))},e.sub=e.mul=void 0;var a=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}(t("./common.js"));function n(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function o(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=r[6],f=r[7],h=r[8],l=r[9],M=r[10],m=r[11],d=r[12],v=r[13],b=r[14],p=r[15],y=e[0],g=e[1],P=e[2],O=e[3];return t[0]=y*a+g*i+P*h+O*d,t[1]=y*n+g*u+P*l+O*v,t[2]=y*o+g*s+P*M+O*b,t[3]=y*c+g*f+P*m+O*p,y=e[4],g=e[5],P=e[6],O=e[7],t[4]=y*a+g*i+P*h+O*d,t[5]=y*n+g*u+P*l+O*v,t[6]=y*o+g*s+P*M+O*b,t[7]=y*c+g*f+P*m+O*p,y=e[8],g=e[9],P=e[10],O=e[11],t[8]=y*a+g*i+P*h+O*d,t[9]=y*n+g*u+P*l+O*v,t[10]=y*o+g*s+P*M+O*b,t[11]=y*c+g*f+P*m+O*p,y=e[12],g=e[13],P=e[14],O=e[15],t[12]=y*a+g*i+P*h+O*d,t[13]=y*n+g*u+P*l+O*v,t[14]=y*o+g*s+P*M+O*b,t[15]=y*c+g*f+P*m+O*p,t}function c(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=a+a,u=n+n,s=o+o,f=a*i,h=a*u,l=a*s,M=n*u,m=n*s,d=o*s,v=c*i,b=c*u,p=c*s;return t[0]=1-(M+d),t[1]=h+p,t[2]=l-b,t[3]=0,t[4]=h-p,t[5]=1-(f+d),t[6]=m+v,t[7]=0,t[8]=l+b,t[9]=m-v,t[10]=1-(f+M),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function i(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t[6]=r[6]-e[6],t[7]=r[7]-e[7],t[8]=r[8]-e[8],t[9]=r[9]-e[9],t[10]=r[10]-e[10],t[11]=r[11]-e[11],t[12]=r[12]-e[12],t[13]=r[13]-e[13],t[14]=r[14]-e[14],t[15]=r[15]-e[15],t}var u=o;e.mul=u;var s=i;e.sub=s},{"./common.js":"RI4K"}],lgkB:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=n,e.clone=function(t){var r=new a.ARRAY_TYPE(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r},e.length=o,e.fromValues=c,e.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t},e.set=function(t,r,e,a){return t[0]=r,t[1]=e,t[2]=a,t},e.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t},e.subtract=i,e.multiply=u,e.divide=s,e.ceil=function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t},e.floor=function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t},e.min=function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t},e.max=function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t},e.round=function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t},e.scale=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t},e.scaleAndAdd=function(t,r,e,a){return t[0]=r[0]+e[0]*a,t[1]=r[1]+e[1]*a,t[2]=r[2]+e[2]*a,t},e.distance=f,e.squaredDistance=h,e.squaredLength=l,e.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t},e.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t},e.normalize=M,e.dot=m,e.cross=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=e[0],i=e[1],u=e[2];return t[0]=n*u-o*i,t[1]=o*c-a*u,t[2]=a*i-n*c,t},e.lerp=function(t,r,e,a){var n=r[0],o=r[1],c=r[2];return t[0]=n+a*(e[0]-n),t[1]=o+a*(e[1]-o),t[2]=c+a*(e[2]-c),t},e.hermite=function(t,r,e,a,n,o){var c=o*o,i=c*(2*o-3)+1,u=c*(o-2)+o,s=c*(o-1),f=c*(3-2*o);return t[0]=r[0]*i+e[0]*u+a[0]*s+n[0]*f,t[1]=r[1]*i+e[1]*u+a[1]*s+n[1]*f,t[2]=r[2]*i+e[2]*u+a[2]*s+n[2]*f,t},e.bezier=function(t,r,e,a,n,o){var c=1-o,i=c*c,u=o*o,s=i*c,f=3*o*i,h=3*u*c,l=u*o;return t[0]=r[0]*s+e[0]*f+a[0]*h+n[0]*l,t[1]=r[1]*s+e[1]*f+a[1]*h+n[1]*l,t[2]=r[2]*s+e[2]*f+a[2]*h+n[2]*l,t},e.random=function(t,r){r=r||1;var e=2*a.RANDOM()*Math.PI,n=2*a.RANDOM()-1,o=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(e)*o,t[1]=Math.sin(e)*o,t[2]=n*r,t},e.transformMat4=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=e[3]*a+e[7]*n+e[11]*o+e[15];return c=c||1,t[0]=(e[0]*a+e[4]*n+e[8]*o+e[12])/c,t[1]=(e[1]*a+e[5]*n+e[9]*o+e[13])/c,t[2]=(e[2]*a+e[6]*n+e[10]*o+e[14])/c,t},e.transformMat3=function(t,r,e){var a=r[0],n=r[1],o=r[2];return t[0]=a*e[0]+n*e[3]+o*e[6],t[1]=a*e[1]+n*e[4]+o*e[7],t[2]=a*e[2]+n*e[5]+o*e[8],t},e.transformQuat=function(t,r,e){var a=e[0],n=e[1],o=e[2],c=e[3],i=r[0],u=r[1],s=r[2],f=n*s-o*u,h=o*i-a*s,l=a*u-n*i,M=n*l-o*h,m=o*f-a*l,d=a*h-n*f,v=2*c;return f*=v,h*=v,l*=v,M*=2,m*=2,d*=2,t[0]=i+f+M,t[1]=u+h+m,t[2]=s+l+d,t},e.rotateX=function(t,r,e,a){var n=[],o=[];return n[0]=r[0]-e[0],n[1]=r[1]-e[1],n[2]=r[2]-e[2],o[0]=n[0],o[1]=n[1]*Math.cos(a)-n[2]*Math.sin(a),o[2]=n[1]*Math.sin(a)+n[2]*Math.cos(a),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},e.rotateY=function(t,r,e,a){var n=[],o=[];return n[0]=r[0]-e[0],n[1]=r[1]-e[1],n[2]=r[2]-e[2],o[0]=n[2]*Math.sin(a)+n[0]*Math.cos(a),o[1]=n[1],o[2]=n[2]*Math.cos(a)-n[0]*Math.sin(a),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},e.rotateZ=function(t,r,e,a){var n=[],o=[];return n[0]=r[0]-e[0],n[1]=r[1]-e[1],n[2]=r[2]-e[2],o[0]=n[0]*Math.cos(a)-n[1]*Math.sin(a),o[1]=n[0]*Math.sin(a)+n[1]*Math.cos(a),o[2]=n[2],t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},e.angle=function(t,r){var e=c(t[0],t[1],t[2]),a=c(r[0],r[1],r[2]);M(e,e),M(a,a);var n=m(e,a);return n>1?0:n<-1?Math.PI:Math.acos(n)},e.zero=function(t){return t[0]=0,t[1]=0,t[2]=0,t},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]},e.equals=function(t,r){var e=t[0],n=t[1],o=t[2],c=r[0],i=r[1],u=r[2];return Math.abs(e-c)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(n-i)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(o-u)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))},e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0;var a=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}(t("./common.js"));function n(){var t=new a.ARRAY_TYPE(3);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var r=t[0],e=t[1],a=t[2];return Math.sqrt(r*r+e*e+a*a)}function c(t,r,e){var n=new a.ARRAY_TYPE(3);return n[0]=t,n[1]=r,n[2]=e,n}function i(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t}function u(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t}function s(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t}function f(t,r){var e=r[0]-t[0],a=r[1]-t[1],n=r[2]-t[2];return Math.sqrt(e*e+a*a+n*n)}function h(t,r){var e=r[0]-t[0],a=r[1]-t[1],n=r[2]-t[2];return e*e+a*a+n*n}function l(t){var r=t[0],e=t[1],a=t[2];return r*r+e*e+a*a}function M(t,r){var e=r[0],a=r[1],n=r[2],o=e*e+a*a+n*n;return o>0&&(o=1/Math.sqrt(o)),t[0]=r[0]*o,t[1]=r[1]*o,t[2]=r[2]*o,t}function m(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}var d=i;e.sub=d;var v=u;e.mul=v;var b=s;e.div=b;var p=f;e.dist=p;var y=h;e.sqrDist=y;var g=o;e.len=g;var P=l;e.sqrLen=P;var O=function(){var t=n();return function(r,e,a,n,o,c){var i,u;for(e||(e=3),a||(a=0),u=n?Math.min(n*e+a,r.length):r.length,i=a;i<u;i+=e)t[0]=r[i],t[1]=r[i+1],t[2]=r[i+2],o(t,t,c),r[i]=t[0],r[i+1]=t[1],r[i+2]=t[2];return r}}();e.forEach=O},{"./common.js":"RI4K"}],c46N:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=n,e.clone=function(t){var r=new a.ARRAY_TYPE(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},e.fromValues=function(t,r,e,n){var o=new a.ARRAY_TYPE(4);return o[0]=t,o[1]=r,o[2]=e,o[3]=n,o},e.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},e.set=function(t,r,e,a,n){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t},e.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t},e.subtract=o,e.multiply=c,e.divide=i,e.ceil=function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t[3]=Math.ceil(r[3]),t},e.floor=function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t[3]=Math.floor(r[3]),t},e.min=function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t[3]=Math.min(r[3],e[3]),t},e.max=function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t[3]=Math.max(r[3],e[3]),t},e.round=function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t[3]=Math.round(r[3]),t},e.scale=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t},e.scaleAndAdd=function(t,r,e,a){return t[0]=r[0]+e[0]*a,t[1]=r[1]+e[1]*a,t[2]=r[2]+e[2]*a,t[3]=r[3]+e[3]*a,t},e.distance=u,e.squaredDistance=s,e.length=f,e.squaredLength=h,e.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t},e.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t},e.normalize=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=e*e+a*a+n*n+o*o;return c>0&&(c=1/Math.sqrt(c)),t[0]=e*c,t[1]=a*c,t[2]=n*c,t[3]=o*c,t},e.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]},e.cross=function(t,r,e,a){var n=e[0]*a[1]-e[1]*a[0],o=e[0]*a[2]-e[2]*a[0],c=e[0]*a[3]-e[3]*a[0],i=e[1]*a[2]-e[2]*a[1],u=e[1]*a[3]-e[3]*a[1],s=e[2]*a[3]-e[3]*a[2],f=r[0],h=r[1],l=r[2],M=r[3];return t[0]=h*s-l*u+M*i,t[1]=-f*s+l*c-M*o,t[2]=f*u-h*c+M*n,t[3]=-f*i+h*o-l*n,t},e.lerp=function(t,r,e,a){var n=r[0],o=r[1],c=r[2],i=r[3];return t[0]=n+a*(e[0]-n),t[1]=o+a*(e[1]-o),t[2]=c+a*(e[2]-c),t[3]=i+a*(e[3]-i),t},e.random=function(t,r){var e,n,o,c,i,u;r=r||1;do{i=(e=2*a.RANDOM()-1)*e+(n=2*a.RANDOM()-1)*n}while(i>=1);do{u=(o=2*a.RANDOM()-1)*o+(c=2*a.RANDOM()-1)*c}while(u>=1);var s=Math.sqrt((1-i)/u);return t[0]=r*e,t[1]=r*n,t[2]=r*o*s,t[3]=r*c*s,t},e.transformMat4=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3];return t[0]=e[0]*a+e[4]*n+e[8]*o+e[12]*c,t[1]=e[1]*a+e[5]*n+e[9]*o+e[13]*c,t[2]=e[2]*a+e[6]*n+e[10]*o+e[14]*c,t[3]=e[3]*a+e[7]*n+e[11]*o+e[15]*c,t},e.transformQuat=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=e[0],i=e[1],u=e[2],s=e[3],f=s*a+i*o-u*n,h=s*n+u*a-c*o,l=s*o+c*n-i*a,M=-c*a-i*n-u*o;return t[0]=f*s+M*-c+h*-u-l*-i,t[1]=h*s+M*-i+l*-c-f*-u,t[2]=l*s+M*-u+f*-i-h*-c,t[3]=r[3],t},e.zero=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},e.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]},e.equals=function(t,r){var e=t[0],n=t[1],o=t[2],c=t[3],i=r[0],u=r[1],s=r[2],f=r[3];return Math.abs(e-i)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(n-u)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-s)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(c-f)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(f))},e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0;var a=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}(t("./common.js"));function n(){var t=new a.ARRAY_TYPE(4);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function o(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function c(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t[3]=r[3]*e[3],t}function i(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t[3]=r[3]/e[3],t}function u(t,r){var e=r[0]-t[0],a=r[1]-t[1],n=r[2]-t[2],o=r[3]-t[3];return Math.sqrt(e*e+a*a+n*n+o*o)}function s(t,r){var e=r[0]-t[0],a=r[1]-t[1],n=r[2]-t[2],o=r[3]-t[3];return e*e+a*a+n*n+o*o}function f(t){var r=t[0],e=t[1],a=t[2],n=t[3];return Math.sqrt(r*r+e*e+a*a+n*n)}function h(t){var r=t[0],e=t[1],a=t[2],n=t[3];return r*r+e*e+a*a+n*n}var l=o;e.sub=l;var M=c;e.mul=M;var m=i;e.div=m;var d=u;e.dist=d;var v=s;e.sqrDist=v;var b=f;e.len=b;var p=h;e.sqrLen=p;var y=function(){var t=n();return function(r,e,a,n,o,c){var i,u;for(e||(e=4),a||(a=0),u=n?Math.min(n*e+a,r.length):r.length,i=a;i<u;i+=e)t[0]=r[i],t[1]=r[i+1],t[2]=r[i+2],t[3]=r[i+3],o(t,t,c),r[i]=t[0],r[i+1]=t[1],r[i+2]=t[2],r[i+3]=t[3];return r}}();e.forEach=y},{"./common.js":"RI4K"}],ZJVE:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=u,e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},e.setAxisAngle=s,e.getAxisAngle=function(t,r){var e=2*Math.acos(r[3]),n=Math.sin(e/2);return n>a.EPSILON?(t[0]=r[0]/n,t[1]=r[1]/n,t[2]=r[2]/n):(t[0]=1,t[1]=0,t[2]=0),e},e.multiply=f,e.rotateX=function(t,r,e){e*=.5;var a=r[0],n=r[1],o=r[2],c=r[3],i=Math.sin(e),u=Math.cos(e);return t[0]=a*u+c*i,t[1]=n*u+o*i,t[2]=o*u-n*i,t[3]=c*u-a*i,t},e.rotateY=function(t,r,e){e*=.5;var a=r[0],n=r[1],o=r[2],c=r[3],i=Math.sin(e),u=Math.cos(e);return t[0]=a*u-o*i,t[1]=n*u+c*i,t[2]=o*u+a*i,t[3]=c*u-n*i,t},e.rotateZ=function(t,r,e){e*=.5;var a=r[0],n=r[1],o=r[2],c=r[3],i=Math.sin(e),u=Math.cos(e);return t[0]=a*u+n*i,t[1]=n*u-a*i,t[2]=o*u+c*i,t[3]=c*u-o*i,t},e.calculateW=function(t,r){var e=r[0],a=r[1],n=r[2];return t[0]=e,t[1]=a,t[2]=n,t[3]=Math.sqrt(Math.abs(1-e*e-a*a-n*n)),t},e.slerp=h,e.random=function(t){var r=a.RANDOM(),e=a.RANDOM(),n=a.RANDOM(),o=Math.sqrt(1-r),c=Math.sqrt(r);return t[0]=o*Math.sin(2*Math.PI*e),t[1]=o*Math.cos(2*Math.PI*e),t[2]=c*Math.sin(2*Math.PI*n),t[3]=c*Math.cos(2*Math.PI*n),t},e.invert=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=e*e+a*a+n*n+o*o,i=c?1/c:0;return t[0]=-e*i,t[1]=-a*i,t[2]=-n*i,t[3]=o*i,t},e.conjugate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t},e.fromMat3=l,e.fromEuler=function(t,r,e,a){var n=.5*Math.PI/180;r*=n,e*=n,a*=n;var o=Math.sin(r),c=Math.cos(r),i=Math.sin(e),u=Math.cos(e),s=Math.sin(a),f=Math.cos(a);return t[0]=o*u*f-c*i*s,t[1]=c*i*f+o*u*s,t[2]=c*u*s-o*i*f,t[3]=c*u*f+o*i*s,t},e.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.setAxes=e.sqlerp=e.rotationTo=e.equals=e.exactEquals=e.normalize=e.sqrLen=e.squaredLength=e.len=e.length=e.lerp=e.dot=e.scale=e.mul=e.add=e.set=e.copy=e.fromValues=e.clone=void 0;var a=i(t("./common.js")),n=i(t("./mat3.js")),o=i(t("./vec3.js")),c=i(t("./vec4.js"));function i(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}function u(){var t=new a.ARRAY_TYPE(4);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function s(t,r,e){e*=.5;var a=Math.sin(e);return t[0]=a*r[0],t[1]=a*r[1],t[2]=a*r[2],t[3]=Math.cos(e),t}function f(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=e[0],u=e[1],s=e[2],f=e[3];return t[0]=a*f+c*i+n*s-o*u,t[1]=n*f+c*u+o*i-a*s,t[2]=o*f+c*s+a*u-n*i,t[3]=c*f-a*i-n*u-o*s,t}function h(t,r,e,n){var o,c,i,u,s,f=r[0],h=r[1],l=r[2],M=r[3],m=e[0],d=e[1],v=e[2],b=e[3];return(c=f*m+h*d+l*v+M*b)<0&&(c=-c,m=-m,d=-d,v=-v,b=-b),1-c>a.EPSILON?(o=Math.acos(c),i=Math.sin(o),u=Math.sin((1-n)*o)/i,s=Math.sin(n*o)/i):(u=1-n,s=n),t[0]=u*f+s*m,t[1]=u*h+s*d,t[2]=u*l+s*v,t[3]=u*M+s*b,t}function l(t,r){var e,a=r[0]+r[4]+r[8];if(a>0)e=Math.sqrt(a+1),t[3]=.5*e,e=.5/e,t[0]=(r[5]-r[7])*e,t[1]=(r[6]-r[2])*e,t[2]=(r[1]-r[3])*e;else{var n=0;r[4]>r[0]&&(n=1),r[8]>r[3*n+n]&&(n=2);var o=(n+1)%3,c=(n+2)%3;e=Math.sqrt(r[3*n+n]-r[3*o+o]-r[3*c+c]+1),t[n]=.5*e,e=.5/e,t[3]=(r[3*o+c]-r[3*c+o])*e,t[o]=(r[3*o+n]+r[3*n+o])*e,t[c]=(r[3*c+n]+r[3*n+c])*e}return t}var M=c.clone;e.clone=M;var m=c.fromValues;e.fromValues=m;var d=c.copy;e.copy=d;var v=c.set;e.set=v;var b=c.add;e.add=b;var p=f;e.mul=p;var y=c.scale;e.scale=y;var g=c.dot;e.dot=g;var P=c.lerp;e.lerp=P;var O=c.length;e.length=O;var E=O;e.len=E;var x=c.squaredLength;e.squaredLength=x;var j=x;e.sqrLen=j;var A=c.normalize;e.normalize=A;var R=c.exactEquals;e.exactEquals=R;var w=c.equals;e.equals=w;var _=function(){var t=o.create(),r=o.fromValues(1,0,0),e=o.fromValues(0,1,0);return function(a,n,c){var i=o.dot(n,c);return i<-.999999?(o.cross(t,r,n),o.len(t)<1e-6&&o.cross(t,e,n),o.normalize(t,t),s(a,t,Math.PI),a):i>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(o.cross(t,n,c),a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=1+i,A(a,a))}}();e.rotationTo=_;var T=function(){var t=u(),r=u();return function(e,a,n,o,c,i){return h(t,a,c,i),h(r,n,o,i),h(e,t,r,2*i*(1-i)),e}}();e.sqlerp=T;var S=function(){var t=n.create();return function(r,e,a,n){return t[0]=a[0],t[3]=a[1],t[6]=a[2],t[1]=n[0],t[4]=n[1],t[7]=n[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],A(r,l(r,t))}}();e.setAxes=S},{"./common.js":"RI4K","./mat3.js":"/nF3","./vec3.js":"lgkB","./vec4.js":"c46N"}],k2FX:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new a.ARRAY_TYPE(8);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t},e.clone=function(t){var r=new a.ARRAY_TYPE(8);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r},e.fromValues=function(t,r,e,n,o,c,i,u){var s=new a.ARRAY_TYPE(8);return s[0]=t,s[1]=r,s[2]=e,s[3]=n,s[4]=o,s[5]=c,s[6]=i,s[7]=u,s},e.fromRotationTranslationValues=function(t,r,e,n,o,c,i){var u=new a.ARRAY_TYPE(8);u[0]=t,u[1]=r,u[2]=e,u[3]=n;var s=.5*o,f=.5*c,h=.5*i;return u[4]=s*n+f*e-h*r,u[5]=f*n+h*t-s*e,u[6]=h*n+s*r-f*t,u[7]=-s*t-f*r-h*e,u},e.fromRotationTranslation=i,e.fromTranslation=function(t,r){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*r[0],t[5]=.5*r[1],t[6]=.5*r[2],t[7]=0,t},e.fromRotation=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},e.fromMat4=function(t,r){var e=n.create();o.getRotation(e,r);var c=new a.ARRAY_TYPE(3);return o.getTranslation(c,r),i(t,e,c),t},e.copy=u,e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},e.set=function(t,r,e,a,n,o,c,i,u){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t[4]=o,t[5]=c,t[6]=i,t[7]=u,t},e.getDual=function(t,r){return t[0]=r[4],t[1]=r[5],t[2]=r[6],t[3]=r[7],t},e.setDual=function(t,r){return t[4]=r[0],t[5]=r[1],t[6]=r[2],t[7]=r[3],t},e.getTranslation=function(t,r){var e=r[4],a=r[5],n=r[6],o=r[7],c=-r[0],i=-r[1],u=-r[2],s=r[3];return t[0]=2*(e*s+o*c+a*u-n*i),t[1]=2*(a*s+o*i+n*c-e*u),t[2]=2*(n*s+o*u+e*i-a*c),t},e.translate=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=.5*e[0],u=.5*e[1],s=.5*e[2],f=r[4],h=r[5],l=r[6],M=r[7];return t[0]=a,t[1]=n,t[2]=o,t[3]=c,t[4]=c*i+n*s-o*u+f,t[5]=c*u+o*i-a*s+h,t[6]=c*s+a*u-n*i+l,t[7]=-a*i-n*u-o*s+M,t},e.rotateX=function(t,r,e){var a=-r[0],o=-r[1],c=-r[2],i=r[3],u=r[4],s=r[5],f=r[6],h=r[7],l=u*i+h*a+s*c-f*o,M=s*i+h*o+f*a-u*c,m=f*i+h*c+u*o-s*a,d=h*i-u*a-s*o-f*c;return n.rotateX(t,r,e),a=t[0],o=t[1],c=t[2],i=t[3],t[4]=l*i+d*a+M*c-m*o,t[5]=M*i+d*o+m*a-l*c,t[6]=m*i+d*c+l*o-M*a,t[7]=d*i-l*a-M*o-m*c,t},e.rotateY=function(t,r,e){var a=-r[0],o=-r[1],c=-r[2],i=r[3],u=r[4],s=r[5],f=r[6],h=r[7],l=u*i+h*a+s*c-f*o,M=s*i+h*o+f*a-u*c,m=f*i+h*c+u*o-s*a,d=h*i-u*a-s*o-f*c;return n.rotateY(t,r,e),a=t[0],o=t[1],c=t[2],i=t[3],t[4]=l*i+d*a+M*c-m*o,t[5]=M*i+d*o+m*a-l*c,t[6]=m*i+d*c+l*o-M*a,t[7]=d*i-l*a-M*o-m*c,t},e.rotateZ=function(t,r,e){var a=-r[0],o=-r[1],c=-r[2],i=r[3],u=r[4],s=r[5],f=r[6],h=r[7],l=u*i+h*a+s*c-f*o,M=s*i+h*o+f*a-u*c,m=f*i+h*c+u*o-s*a,d=h*i-u*a-s*o-f*c;return n.rotateZ(t,r,e),a=t[0],o=t[1],c=t[2],i=t[3],t[4]=l*i+d*a+M*c-m*o,t[5]=M*i+d*o+m*a-l*c,t[6]=m*i+d*c+l*o-M*a,t[7]=d*i-l*a-M*o-m*c,t},e.rotateByQuatAppend=function(t,r,e){var a=e[0],n=e[1],o=e[2],c=e[3],i=r[0],u=r[1],s=r[2],f=r[3];return t[0]=i*c+f*a+u*o-s*n,t[1]=u*c+f*n+s*a-i*o,t[2]=s*c+f*o+i*n-u*a,t[3]=f*c-i*a-u*n-s*o,i=r[4],u=r[5],s=r[6],f=r[7],t[4]=i*c+f*a+u*o-s*n,t[5]=u*c+f*n+s*a-i*o,t[6]=s*c+f*o+i*n-u*a,t[7]=f*c-i*a-u*n-s*o,t},e.rotateByQuatPrepend=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=e[0],u=e[1],s=e[2],f=e[3];return t[0]=a*f+c*i+n*s-o*u,t[1]=n*f+c*u+o*i-a*s,t[2]=o*f+c*s+a*u-n*i,t[3]=c*f-a*i-n*u-o*s,i=e[4],u=e[5],s=e[6],f=e[7],t[4]=a*f+c*i+n*s-o*u,t[5]=n*f+c*u+o*i-a*s,t[6]=o*f+c*s+a*u-n*i,t[7]=c*f-a*i-n*u-o*s,t},e.rotateAroundAxis=function(t,r,e,n){if(Math.abs(n)<a.EPSILON)return u(t,r);var o=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);n*=.5;var c=Math.sin(n),i=c*e[0]/o,s=c*e[1]/o,f=c*e[2]/o,h=Math.cos(n),l=r[0],M=r[1],m=r[2],d=r[3];t[0]=l*h+d*i+M*f-m*s,t[1]=M*h+d*s+m*i-l*f,t[2]=m*h+d*f+l*s-M*i,t[3]=d*h-l*i-M*s-m*f;var v=r[4],b=r[5],p=r[6],y=r[7];return t[4]=v*h+y*i+b*f-p*s,t[5]=b*h+y*s+p*i-v*f,t[6]=p*h+y*f+v*s-b*i,t[7]=y*h-v*i-b*s-p*f,t},e.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t[6]=r[6]+e[6],t[7]=r[7]+e[7],t},e.multiply=h,e.scale=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t},e.lerp=function(t,r,e,a){var n=1-a;return M(r,e)<0&&(a=-a),t[0]=r[0]*n+e[0]*a,t[1]=r[1]*n+e[1]*a,t[2]=r[2]*n+e[2]*a,t[3]=r[3]*n+e[3]*a,t[4]=r[4]*n+e[4]*a,t[5]=r[5]*n+e[5]*a,t[6]=r[6]*n+e[6]*a,t[7]=r[7]*n+e[7]*a,t},e.invert=function(t,r){var e=v(r);return t[0]=-r[0]/e,t[1]=-r[1]/e,t[2]=-r[2]/e,t[3]=r[3]/e,t[4]=-r[4]/e,t[5]=-r[5]/e,t[6]=-r[6]/e,t[7]=r[7]/e,t},e.conjugate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t[4]=-r[4],t[5]=-r[5],t[6]=-r[6],t[7]=r[7],t},e.normalize=function(t,r){var e=v(r);if(e>0){e=Math.sqrt(e);var a=r[0]/e,n=r[1]/e,o=r[2]/e,c=r[3]/e,i=r[4],u=r[5],s=r[6],f=r[7],h=a*i+n*u+o*s+c*f;t[0]=a,t[1]=n,t[2]=o,t[3]=c,t[4]=(i-a*h)/e,t[5]=(u-n*h)/e,t[6]=(s-o*h)/e,t[7]=(f-c*h)/e}return t},e.str=function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},e.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]},e.equals=function(t,r){var e=t[0],n=t[1],o=t[2],c=t[3],i=t[4],u=t[5],s=t[6],f=t[7],h=r[0],l=r[1],M=r[2],m=r[3],d=r[4],v=r[5],b=r[6],p=r[7];return Math.abs(e-h)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(n-l)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-M)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(c-m)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(i-d)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(u-v)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(s-b)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(f-p)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(p))},e.sqrLen=e.squaredLength=e.len=e.length=e.dot=e.mul=e.setReal=e.getReal=void 0;var a=c(t("./common.js")),n=c(t("./quat.js")),o=c(t("./mat4.js"));function c(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}function i(t,r,e){var a=.5*e[0],n=.5*e[1],o=.5*e[2],c=r[0],i=r[1],u=r[2],s=r[3];return t[0]=c,t[1]=i,t[2]=u,t[3]=s,t[4]=a*s+n*u-o*i,t[5]=n*s+o*c-a*u,t[6]=o*s+a*i-n*c,t[7]=-a*c-n*i-o*u,t}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t}var s=n.copy;e.getReal=s;var f=n.copy;function h(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=e[4],u=e[5],s=e[6],f=e[7],h=r[4],l=r[5],M=r[6],m=r[7],d=e[0],v=e[1],b=e[2],p=e[3];return t[0]=a*p+c*d+n*b-o*v,t[1]=n*p+c*v+o*d-a*b,t[2]=o*p+c*b+a*v-n*d,t[3]=c*p-a*d-n*v-o*b,t[4]=a*f+c*i+n*s-o*u+h*p+m*d+l*b-M*v,t[5]=n*f+c*u+o*i-a*s+l*p+m*v+M*d-h*b,t[6]=o*f+c*s+a*u-n*i+M*p+m*b+h*v-l*d,t[7]=c*f-a*i-n*u-o*s+m*p-h*d-l*v-M*b,t}e.setReal=f;var l=h;e.mul=l;var M=n.dot;e.dot=M;var m=n.length;e.length=m;var d=m;e.len=d;var v=n.squaredLength;e.squaredLength=v;var b=v;e.sqrLen=b},{"./common.js":"RI4K","./quat.js":"ZJVE","./mat4.js":"IMFL"}],FnKJ:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=n,e.clone=function(t){var r=new a.ARRAY_TYPE(2);return r[0]=t[0],r[1]=t[1],r},e.fromValues=function(t,r){var e=new a.ARRAY_TYPE(2);return e[0]=t,e[1]=r,e},e.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t},e.set=function(t,r,e){return t[0]=r,t[1]=e,t},e.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t},e.subtract=o,e.multiply=c,e.divide=i,e.ceil=function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t},e.floor=function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t},e.min=function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t},e.max=function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t},e.round=function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t},e.scale=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t},e.scaleAndAdd=function(t,r,e,a){return t[0]=r[0]+e[0]*a,t[1]=r[1]+e[1]*a,t},e.distance=u,e.squaredDistance=s,e.length=f,e.squaredLength=h,e.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t},e.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t},e.normalize=function(t,r){var e=r[0],a=r[1],n=e*e+a*a;return n>0&&(n=1/Math.sqrt(n)),t[0]=r[0]*n,t[1]=r[1]*n,t},e.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]},e.cross=function(t,r,e){var a=r[0]*e[1]-r[1]*e[0];return t[0]=t[1]=0,t[2]=a,t},e.lerp=function(t,r,e,a){var n=r[0],o=r[1];return t[0]=n+a*(e[0]-n),t[1]=o+a*(e[1]-o),t},e.random=function(t,r){r=r||1;var e=2*a.RANDOM()*Math.PI;return t[0]=Math.cos(e)*r,t[1]=Math.sin(e)*r,t},e.transformMat2=function(t,r,e){var a=r[0],n=r[1];return t[0]=e[0]*a+e[2]*n,t[1]=e[1]*a+e[3]*n,t},e.transformMat2d=function(t,r,e){var a=r[0],n=r[1];return t[0]=e[0]*a+e[2]*n+e[4],t[1]=e[1]*a+e[3]*n+e[5],t},e.transformMat3=function(t,r,e){var a=r[0],n=r[1];return t[0]=e[0]*a+e[3]*n+e[6],t[1]=e[1]*a+e[4]*n+e[7],t},e.transformMat4=function(t,r,e){var a=r[0],n=r[1];return t[0]=e[0]*a+e[4]*n+e[12],t[1]=e[1]*a+e[5]*n+e[13],t},e.rotate=function(t,r,e,a){var n=r[0]-e[0],o=r[1]-e[1],c=Math.sin(a),i=Math.cos(a);return t[0]=n*i-o*c+e[0],t[1]=n*c+o*i+e[1],t},e.angle=function(t,r){var e=t[0],a=t[1],n=r[0],o=r[1],c=e*e+a*a;c>0&&(c=1/Math.sqrt(c));var i=n*n+o*o;i>0&&(i=1/Math.sqrt(i));var u=(e*n+a*o)*c*i;return u>1?0:u<-1?Math.PI:Math.acos(u)},e.zero=function(t){return t[0]=0,t[1]=0,t},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]},e.equals=function(t,r){var e=t[0],n=t[1],o=r[0],c=r[1];return Math.abs(e-o)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(n-c)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))},e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0;var a=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}(t("./common.js"));function n(){var t=new a.ARRAY_TYPE(2);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t}function c(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t}function i(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t}function u(t,r){var e=r[0]-t[0],a=r[1]-t[1];return Math.sqrt(e*e+a*a)}function s(t,r){var e=r[0]-t[0],a=r[1]-t[1];return e*e+a*a}function f(t){var r=t[0],e=t[1];return Math.sqrt(r*r+e*e)}function h(t){var r=t[0],e=t[1];return r*r+e*e}var l=f;e.len=l;var M=o;e.sub=M;var m=c;e.mul=m;var d=i;e.div=d;var v=u;e.dist=v;var b=s;e.sqrDist=b;var p=h;e.sqrLen=p;var y=function(){var t=n();return function(r,e,a,n,o,c){var i,u;for(e||(e=2),a||(a=0),u=n?Math.min(n*e+a,r.length):r.length,i=a;i<u;i+=e)t[0]=r[i],t[1]=r[i+1],o(t,t,c),r[i]=t[0],r[i+1]=t[1];return r}}();e.forEach=y},{"./common.js":"RI4K"}],"8sy+":[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vec4=e.vec3=e.vec2=e.quat2=e.quat=e.mat4=e.mat3=e.mat2d=e.mat2=e.glMatrix=void 0;var a=M(t("./common.js"));e.glMatrix=a;var n=M(t("./mat2.js"));e.mat2=n;var o=M(t("./mat2d.js"));e.mat2d=o;var c=M(t("./mat3.js"));e.mat3=c;var i=M(t("./mat4.js"));e.mat4=i;var u=M(t("./quat.js"));e.quat=u;var s=M(t("./quat2.js"));e.quat2=s;var f=M(t("./vec2.js"));e.vec2=f;var h=M(t("./vec3.js"));e.vec3=h;var l=M(t("./vec4.js"));function M(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}e.vec4=l},{"./common.js":"RI4K","./mat2.js":"FqjV","./mat2d.js":"Ccx3","./mat3.js":"/nF3","./mat4.js":"IMFL","./quat.js":"ZJVE","./quat2.js":"k2FX","./vec2.js":"FnKJ","./vec3.js":"lgkB","./vec4.js":"c46N"}],"/JAl":[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.m4=void 0;var a=t("gl-matrix");function n(t){return a.mat4.fromXRotation(a.mat4.create(),t)}function o(t){return a.mat4.fromYRotation(a.mat4.create(),t)}function c(t){return a.mat4.fromZRotation(a.mat4.create(),t)}function i(t,r){return a.mat4.multiply(a.mat4.create(),t,r)}const u={projection:function(t,r,e){return a.mat4.perspective(a.mat4.create(),45,t/r,.1,40)},translation:function(t,r,e){return a.mat4.fromTranslation(a.mat4.create(),a.vec3.fromValues(t,r,e))},scaling:function(t,r,e){return a.mat4.fromScaling(a.mat4.create(),a.vec3.fromValues(t,r,e))},multiply:i,multiplyAll:function(t,r){return function(){return[...arguments].reduce((r,e)=>t(r,e),r)}}(i,a.mat4.create()),identity:function(){return a.mat4.create()},invert:function(t){return a.mat4.invert(a.mat4.create(),t)},translate:function(t,r,e,a){return u.multiply(t,u.translation(r,e,a))},rotateX:function(t,r){return u.multiply(t,n(r))},rotateY:function(t,r){return u.multiply(t,o(r))},rotateZ:function(t,r){return u.multiply(t,c(r))},scale:function(t,r,e,a){return u.multiply(t,u.scaling(r,e,a))}};e.m4=u},{"gl-matrix":"8sy+"}],l1DY:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CameraTransform=e.Transform=void 0;var a=t("../m4");class n{constructor(){this.matrix=a.m4.identity(),this.translation={x:0,y:0,z:0},this.rotation={x:0,y:0,z:0},this.scale={x:1,y:1,z:1}}computeMatrix(t=a.m4.identity()){let r=a.m4.identity();r=a.m4.translate(r,this.translation.x,this.translation.y,this.translation.z),r=a.m4.rotateX(r,this.rotation.x),r=a.m4.rotateY(r,this.rotation.y),r=a.m4.rotateZ(r,this.rotation.z),r=a.m4.scale(r,this.scale.x,this.scale.y,this.scale.z),this.matrix=a.m4.multiply(t,r)}}e.Transform=n;e.CameraTransform=class extends n{computeMatrix(t=a.m4.identity()){let r=a.m4.identity();r=a.m4.scale(r,this.scale.x,this.scale.y,this.scale.z),r=a.m4.rotateX(r,this.rotation.x),r=a.m4.rotateY(r,this.rotation.y),r=a.m4.rotateZ(r,this.rotation.z),r=a.m4.translate(r,this.translation.x,this.translation.y,this.translation.z),this.matrix=a.m4.multiply(t,r)}}},{"../m4":"/JAl"}],Qrkf:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Camera=void 0;var a=t("../Transform"),n=t("../m4");e.Camera=class{constructor(){this.transform=new a.CameraTransform}get matrix(){return this.transform.matrix}get translation(){return this.transform.translation}get rotation(){return this.transform.rotation}get scale(){return this.transform.scale}get viewMatrix(){return this.computeMatrix(),n.m4.invert(this.transform.matrix)}computeMatrix(){this.transform.computeMatrix()}}},{"../Transform":"l1DY","../m4":"/JAl"}],t09H:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLRenderer=void 0;var a=t("./utils"),n=t("./m4"),o=t("./Camera");e.WebGLRenderer=class{constructor(t=document.createElement("canvas")){const r=t.getContext("webgl2");t.parentNode!==document.body&&(r.canvas.style.width="100vw",r.canvas.style.height="100vh",document.body.style.overflow="hidden",document.body.style.margin=0,document.body.appendChild(r.canvas)),this.gl=r,this.scene=[],this.camera=new o.Camera,this.projectionMatrix=n.m4.projection(this.gl.canvas.clientWidth,this.gl.canvas.clientHeight,this.gl.canvas.clientWidth),this.init(),this.startAnimating()}startAnimating(t=60){this.fpsInterval=1e3/t,this.then=Date.now(),this.startTime=this.then,this.render()}init(){}beforeDraw(t){this.scene.forEach(r=>{r.beforeDraw(t)})}drawFrame(t){const r=this.gl;this.scene.forEach(e=>{r.useProgram(e.program),e.hasRenderedOnce||(e.updateUniforms(),e.hasRenderedOnce=!0),r.bindVertexArray(e.vao),this.beforeDraw(t),e.setUniform("u_projectionMatrix",this.projectionMatrix),e.setUniform("u_viewMatrix",this.camera.viewMatrix),e.computeMatrix(),e.beforeDraw(t),e.updateUniforms();const a={primitiveType:"undefined"!==e.draw.primitiveType?e.draw.primitiveType:r.TRIANGLES,offset:e.draw.offset,count:e.draw.count};e.indices?r.drawElements(r.TRIANGLES,e.indices.srcData.length,r.UNSIGNED_SHORT,0):r.drawArrays(a.primitiveType,a.offset,a.count)})}render(){const t=this.gl;requestAnimationFrame(()=>this.render()),this.now=Date.now(),this.elapsed=this.now-this.then,this.elapsed>this.fpsInterval&&((0,a.resizeCanvas)(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clearColor(1,1,1,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.enable(t.DEPTH_TEST),this.drawFrame(this.then),this.then=this.now-this.elapsed%this.fpsInterval)}}},{"./utils":"N31D","./m4":"/JAl","./Camera":"Qrkf"}],"1//O":[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Uniform=void 0;e.Uniform=class{constructor(t){for(var r in t)this[r]=t[r]}bind(t,r){return this.gl=t,this.program=r,this}check(){if(!this.gl||!this.program)throw new Error("Uniform needs to be bound to context and program")}toGLSL(){return`uniform ${(t=>({"1f":"float","1fv":"float","2f":"vec2","2fv":"vec2","3f":"vec3","3fv":"vec3","4f":"vec4","4fv":"vec4",Matrix2fv:"mat2",Matrix3fv:"mat3",Matrix4fv:"mat4","1i":"int","1iv":"int","2i":"ivec2","2iv":"ivec2","3i":"ivec3","3iv":"ivec3","4i":"ivec4","4iv":"ivec4","1u":"uint","1uv":"uint","2u":"uvec2","2uv":"uvec2","3u":"uvec3","3uv":"uvec3","4u":"uvec4","4uv":"uvec4"})[t])(this.type)} ${this.name}${this.count>2?`[${this.count}];\n`:";\n"}`}getLocation(){return this.check(),this.gl.getUniformLocation(this.program,this.name)}update(t=this.value){this.check(),this.passUniforms({location:this.getLocation(),type:this.type,data:[t]})}passUniforms(t){this.check();const r=this.gl,{location:e,data:a,type:n}=t;try{r[`uniform${n}`]}catch(o){throw o}switch(n){case"Matrix2fv":case"Matrix2x3fv":case"Matrix2x4fv":case"Matrix3fv":case"Matrix3x2fv":case"Matrix3x4fv":case"Matrix4fv":case"Matrix4x2fv":case"Matrix4x3fv":r[`uniform${n}`](e,!1,[...a[0]]);break;default:r[`uniform${n}`](e,...a)}}}},{}],u8Wc:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Attribute=void 0;var a=t("./utils");e.Attribute=class{constructor(t){for(var r in t)this[r]=t[r]}bind(t,r){return this.gl=t,this.program=r,this}toGLSL(){return`in ${(0,a.getGLSLType)(this.componentType,this.type)} ${this.name};\n`}get location(){const t=this.gl.getAttribLocation(this.program,this.name);if(-1===t)throw new Error(`Maybe not used in shader. Haven't fount the location of the variable name "${this.name}"`);return t}get size(){return(0,a.getSize)(this.type)}get array(){return(0,a.getTypedArray)(this.srcData,this.componentType)}}},{"./utils":"N31D"}],uado:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Material=void 0;var a=t("../Uniform"),n=t("../Attribute");e.Material=class{constructor(t,r,e,o){this.attributes=t.map(t=>new n.Attribute(t)),this.uniforms=r.map(t=>new a.Uniform(t)),this.vertexShader=e,this.fragmentShader=o}}},{"../Uniform":"1//O","../Attribute":"u8Wc"}],xO5h:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextureUniform=void 0;var a=t("./Uniform");e.TextureUniform=class extends a.Uniform{constructor(t){super(t),this.type="1i",this.src=t.src}bind(t,r){return this.gl=t,this.program=r,this.texture=this.loadTexture(t,this.src),this}toGLSL(){return`uniform sampler2D ${this.name};`}loadTexture(t,r){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([0,0,0,.2]));var a=new Image;return a.src=r,a.addEventListener("load",function(){t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,a),t.generateMipmap(t.TEXTURE_2D)}),e}beforeDraw(t){this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,texture),this.gl.uniform1i(programInfo.uniformLocations.u_texture,0)}}},{"./Uniform":"1//O"}],HC9M:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FragmentShader=e.VertexShader=e.Shader=void 0;t("../utils");class a{constructor(t){this.attributes=t.attributes,this.uniforms=t.uniforms,this.script=t.script}get decorated(){throw new Error("Use either VertexShader or FragmentShader instances")}}e.Shader=a;e.VertexShader=class extends a{get decorated(){return"#version 300 es\nprecision mediump float;\n"+this.attributes.map(t=>t.toGLSL()).join("")+"\n"+this.uniforms.map(t=>t.toGLSL()).join("")+"\n"+`${this.script}`}};e.FragmentShader=class extends a{get decorated(){return"#version 300 es\nprecision mediump float;\n"+this.uniforms.map(t=>t.toGLSL()).join("")+"\n"+`${this.script}`}}},{"../utils":"N31D"}],"/eXs":[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicMaterial=void 0;var a=t("../index"),n=t("../../Attribute"),o=t("../../Uniform"),c=t("../../TextureUniform"),i=t("../../Shader"),u=t("../../m4"),s=t("../../utils");e.BasicMaterial=class extends a.Material{constructor(t,r,e=[],a,s){const f=[{name:"u_modelMatrix",type:"Matrix4fv",value:u.m4.identity(),count:1},{name:"u_viewMatrix",type:"Matrix4fv",value:u.m4.identity(),count:1},{name:"u_projectionMatrix",type:"Matrix4fv",value:u.m4.identity(),count:1}];super(t,r=[...r,...f],a,s),this.attributes=t.map(t=>new n.Attribute(t)),this.uniforms=r.map(t=>new o.Uniform(t)),this.uniforms=[...this.uniforms,...e.map(t=>new c.TextureUniform(t))],this.vertexShaderSrc=new i.VertexShader({attributes:this.attributes,uniforms:this.uniforms,script:a}).decorated,this.fragmentShaderSrc=new i.FragmentShader({uniforms:this.uniforms,script:s}).decorated}createProgram(t){return(0,s.createProgramFromSource)(t,this.vertexShaderSrc,this.fragmentShaderSrc)}bindUniforms(t,r){return this.uniforms.concat([]).map(e=>e.bind(t,r))}bindAttributes(t,r){return this.attributes.concat([]).map(e=>e.bind(t,r))}}},{"../index":"uado","../../Attribute":"u8Wc","../../Uniform":"1//O","../../TextureUniform":"xO5h","../../Shader":"HC9M","../../m4":"/JAl","../../utils":"N31D"}],y4Ae:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PbrMetallicRoughnessMaterial=void 0;var a=t("../BasicMaterial");e.PbrMetallicRoughnessMaterial=class extends a.BasicMaterial{constructor(t,r,e=[],a,n){super(t,r,e,a,n)}}},{"../BasicMaterial":"/eXs"}],iQoP:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Primitive=void 0;var a=t("../Transform");e.Primitive=class{constructor(t,r){this.gl=t,this.vao=null,this.hasRenderedOnce=!1,this.program=r.material.createProgram(this.gl),this.material=r.material,this.uniforms=this.material.bindUniforms(this.gl,this.program),this.attributes=this.material.bindAttributes(this.gl,this.program),this.indices=r.indices||null,this.draw=r.draw||{primitiveType:4,offset:0,count:3},this.draw.count=r.count,this.transform=new a.Transform,this.init()}get matrix(){return this.transform.matrix}get translation(){return this.transform.translation}get rotation(){return this.transform.rotation}get scale(){return this.transform.scale}computeMatrix(t){this.transform.computeMatrix(t)}setUniform(t,r){this.uniforms.find(r=>r.name===t).value=r}updateUniform(t,r){this.uniforms.find(r=>r.name===t).update(r)}updateUniforms(){this.uniforms.forEach(t=>{t.update()})}beforeDraw(t){}init(){const t=this.gl;this.vao=t.createVertexArray(),t.bindVertexArray(this.vao),this.attributes.forEach(r=>{r.srcData&&(t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer()),t.bufferData(t.ARRAY_BUFFER,r.array,t.STATIC_DRAW));const e={location:r.location,size:r.size,type:r.componentType,normalize:!0,stride:r.stride,offset:r.offset};if(this.indices){t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,t.createBuffer());const r={target:t.ELEMENT_ARRAY_BUFFER,srcData:new Uint16Array(this.indices.srcData),usage:t.STATIC_DRAW};t.bufferData(r.target,r.srcData,r.usage)}t.vertexAttribPointer(e.location,e.size,e.type,e.normalize,e.stride,e.offset),t.enableVertexAttribArray(r.location)})}}},{"../Transform":"l1DY"}],jtE7:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GltfPrimitive=void 0;var a=t("./index"),n=t("../Material/PbrMetallicRoughnessMaterial");e.GltfPrimitive=class extends a.Primitive{constructor(t,r,e=[],a,o){const c=new n.PbrMetallicRoughnessMaterial(r.attributes,[],e,a,o);super(t,{count:r.attributes[0].count,material:c,indices:r.indices})}}},{"./index":"iQoP","../Material/PbrMetallicRoughnessMaterial":"y4Ae"}],"1WZ7":[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={WebGLRenderer:!0};Object.defineProperty(e,"WebGLRenderer",{enumerable:!0,get:function(){return n.WebGLRenderer}});var n=t("./WebGLRenderer"),o=t("./Camera");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))});var c=t("./Material");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}}))});var i=t("./Material/BasicMaterial");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))});var u=t("./Material/PbrMetallicRoughnessMaterial");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))});var s=t("./Primitive");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))});var f=t("./Primitive/GltfPrimitive");Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}}))});var h=t("./Shader");Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}}))});var l=t("./Transform");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}}))});var M=t("./Attribute");Object.keys(M).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return M[t]}}))});var m=t("./m4");Object.keys(m).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}}))});var d=t("./TextureUniform");Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}}))});var v=t("./Uniform");Object.keys(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}}))});var b=t("./utils");Object.keys(b).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return b[t]}}))})},{"./WebGLRenderer":"t09H","./Camera":"Qrkf","./Material":"uado","./Material/BasicMaterial":"/eXs","./Material/PbrMetallicRoughnessMaterial":"y4Ae","./Primitive":"iQoP","./Primitive/GltfPrimitive":"jtE7","./Shader":"HC9M","./Transform":"l1DY","./Attribute":"u8Wc","./m4":"/JAl","./TextureUniform":"xO5h","./Uniform":"1//O","./utils":"N31D"}],ZnSu:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GltfParser=void 0;e.GltfParser=class{constructor(t){t.buffers.forEach(t=>{t.data=this.parseB64Buffer(t)}),t.accessors.forEach((r,e)=>{let a=this.getItemsPerType(r.type),n=this.getComponentArrayType(r.componentType).BYTES_PER_ELEMENT,o=this.getDvMethodToRun(r.componentType);const c=a*r.count;r.srcData=this.unpackBufferViewData(t,c,n,o,r.bufferView)}),t.images&&t.images.forEach(r=>{const e=t.bufferViews[r.bufferView].byteLength;r.srcData=this.unpackBufferViewData(t,e,1,"getUint8",r.bufferView),r.src=this.uint8ToUrl(r.srcData,r.mimeType)}),t.materials&&t.materials.forEach(r=>{const e=r.pbrMetallicRoughness.baseColorTexture.index,a=t.images[t.textures[e].source].src,n=`TEXTCOORD_${r.pbrMetallicRoughness.baseColorTexture.texCoord}`;r.pbrMetallicRoughness.baseColorTexture.texture=a,r.pbrMetallicRoughness.baseColorTexture.uvsAttributeName=n}),this.gltf=t}parseB64Buffer(t){let r=t.uri,e=atob(r.split(",")[1]),a=new DataView(new ArrayBuffer(e.length));return Array.from(e).forEach((t,r)=>{a.setUint8(r,t.charCodeAt(0))}),a}unpackBufferViewData(t,r,e,a,n){let o=t.bufferViews[n].buffer,c=t.bufferViews[n].byteOffset,i=t.buffers[o].data;return Array.from({length:r}).map((t,r)=>{var n=c+Math.max(0,e*r);return i[a](n,!0)})}getComponentArrayType(t){return{5123:Uint16Array,5126:Float32Array}[t]}getDvMethodToRun(t){return{5123:"getUint16",5126:"getFloat32"}[t]}getItemsPerType(t){return{SCALAR:1,VEC2:2,VEC3:3,VEC4:4}[t]}getPrimitives(t=0){const r=this.gltf.meshes[t].primitives;return r.forEach(t=>{t.attributes=Object.keys(t.attributes).map(r=>({name:r,...this.gltf.accessors[t.attributes[r]]})),t.indices={...this.gltf.accessors[t.indices]},void 0!==t.material&&(t.material=this.gltf.materials[t.material])}),r}uint8ToUrl(t,r){var e=new Uint8Array(t),a=new Blob([e],{type:r});return URL.createObjectURL(a)}}},{}],ExQ0:[function(t,r,e){r.exports="#define GLSLIFY 1\nin vec4 color;\nout vec4 finalColor;\n\nvoid main(void){\n\tfinalColor = vec4(color.rgb, 1.0);\n}"},{}],C7yz:[function(t,r,e){r.exports="#define GLSLIFY 1\nout lowp vec4 color;\t//Color to send to fragment shader.\n\nvoid main(void){\n\n\tgl_Position = u_projectionMatrix * u_viewMatrix * u_modelMatrix * vec4(a_position, 1.0);\n\tcolor = vec4(u_colors[ int(a_colors) ], 1.0); //Using the 4th float as a color index.\n}"},{}],"7Jbd":[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new a.ARRAY_TYPE(4);return a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},e.clone=function(t){var r=new a.ARRAY_TYPE(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},e.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.fromValues=function(t,r,e,n){var o=new a.ARRAY_TYPE(4);return o[0]=t,o[1]=r,o[2]=e,o[3]=n,o},e.set=function(t,r,e,a,n){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t},e.transpose=function(t,r){if(t===r){var e=r[1];t[1]=r[2],t[2]=e}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t},e.invert=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=e*o-n*a;return c?(c=1/c,t[0]=o*c,t[1]=-a*c,t[2]=-n*c,t[3]=e*c,t):null},e.adjoint=function(t,r){var e=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=e,t},e.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},e.multiply=n,e.rotate=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=Math.sin(e),u=Math.cos(e);return t[0]=a*u+o*i,t[1]=n*u+c*i,t[2]=a*-i+o*u,t[3]=n*-i+c*u,t},e.scale=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=e[0],u=e[1];return t[0]=a*i,t[1]=n*i,t[2]=o*u,t[3]=c*u,t},e.fromRotation=function(t,r){var e=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=e,t[2]=-e,t[3]=a,t},e.fromScaling=function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t},e.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},e.LDU=function(t,r,e,a){return t[2]=a[2]/a[0],e[0]=a[0],e[1]=a[1],e[3]=a[3]-t[2]*e[1],[t,r,e]},e.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t},e.subtract=o,e.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]},e.equals=function(t,r){var e=t[0],n=t[1],o=t[2],c=t[3],i=r[0],u=r[1],s=r[2],f=r[3];return Math.abs(e-i)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(n-u)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-s)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(c-f)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(f))},e.multiplyScalar=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t},e.multiplyScalarAndAdd=function(t,r,e,a){return t[0]=r[0]+e[0]*a,t[1]=r[1]+e[1]*a,t[2]=r[2]+e[2]*a,t[3]=r[3]+e[3]*a,t},e.sub=e.mul=void 0;var a=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}(t("./common.js"));function n(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=e[0],u=e[1],s=e[2],f=e[3];return t[0]=a*i+o*u,t[1]=n*i+c*u,t[2]=a*s+o*f,t[3]=n*s+c*f,t}function o(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}var c=n;e.mul=c;var i=o;e.sub=i},{"./common.js":"RI4K"}],"1GwM":[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new a.ARRAY_TYPE(6);return a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t},e.clone=function(t){var r=new a.ARRAY_TYPE(6);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r},e.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.fromValues=function(t,r,e,n,o,c){var i=new a.ARRAY_TYPE(6);return i[0]=t,i[1]=r,i[2]=e,i[3]=n,i[4]=o,i[5]=c,i},e.set=function(t,r,e,a,n,o,c){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t[4]=o,t[5]=c,t},e.invert=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=r[4],i=r[5],u=e*o-a*n;return u?(u=1/u,t[0]=o*u,t[1]=-a*u,t[2]=-n*u,t[3]=e*u,t[4]=(n*i-o*c)*u,t[5]=(a*c-e*i)*u,t):null},e.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},e.multiply=n,e.rotate=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=Math.sin(e),f=Math.cos(e);return t[0]=a*f+o*s,t[1]=n*f+c*s,t[2]=a*-s+o*f,t[3]=n*-s+c*f,t[4]=i,t[5]=u,t},e.scale=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=e[0],f=e[1];return t[0]=a*s,t[1]=n*s,t[2]=o*f,t[3]=c*f,t[4]=i,t[5]=u,t},e.translate=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=e[0],f=e[1];return t[0]=a,t[1]=n,t[2]=o,t[3]=c,t[4]=a*s+o*f+i,t[5]=n*s+c*f+u,t},e.fromRotation=function(t,r){var e=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=e,t[2]=-e,t[3]=a,t[4]=0,t[5]=0,t},e.fromScaling=function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t[4]=0,t[5]=0,t},e.fromTranslation=function(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=r[0],t[5]=r[1],t},e.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t},e.subtract=o,e.multiplyScalar=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t},e.multiplyScalarAndAdd=function(t,r,e,a){return t[0]=r[0]+e[0]*a,t[1]=r[1]+e[1]*a,t[2]=r[2]+e[2]*a,t[3]=r[3]+e[3]*a,t[4]=r[4]+e[4]*a,t[5]=r[5]+e[5]*a,t},e.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]},e.equals=function(t,r){var e=t[0],n=t[1],o=t[2],c=t[3],i=t[4],u=t[5],s=r[0],f=r[1],h=r[2],l=r[3],M=r[4],m=r[5];return Math.abs(e-s)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(n-f)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(o-h)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(c-l)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(l))&&Math.abs(i-M)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(u-m)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))},e.sub=e.mul=void 0;var a=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}(t("./common.js"));function n(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=e[0],f=e[1],h=e[2],l=e[3],M=e[4],m=e[5];return t[0]=a*s+o*f,t[1]=n*s+c*f,t[2]=a*h+o*l,t[3]=n*h+c*l,t[4]=a*M+o*m+i,t[5]=n*M+c*m+u,t}function o(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t}var c=n;e.mul=c;var i=o;e.sub=i},{"./common.js":"RI4K"}],"0C2V":[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new a.ARRAY_TYPE(9);return a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t},e.clone=function(t){var r=new a.ARRAY_TYPE(9);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r},e.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t},e.fromValues=function(t,r,e,n,o,c,i,u,s){var f=new a.ARRAY_TYPE(9);return f[0]=t,f[1]=r,f[2]=e,f[3]=n,f[4]=o,f[5]=c,f[6]=i,f[7]=u,f[8]=s,f},e.set=function(t,r,e,a,n,o,c,i,u,s){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t[4]=o,t[5]=c,t[6]=i,t[7]=u,t[8]=s,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,r){if(t===r){var e=r[1],a=r[2],n=r[5];t[1]=r[3],t[2]=r[6],t[3]=e,t[5]=r[7],t[6]=a,t[7]=n}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t},e.invert=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=r[4],i=r[5],u=r[6],s=r[7],f=r[8],h=f*c-i*s,l=-f*o+i*u,M=s*o-c*u,m=e*h+a*l+n*M;return m?(m=1/m,t[0]=h*m,t[1]=(-f*a+n*s)*m,t[2]=(i*a-n*c)*m,t[3]=l*m,t[4]=(f*e-n*u)*m,t[5]=(-i*e+n*o)*m,t[6]=M*m,t[7]=(-s*e+a*u)*m,t[8]=(c*e-a*o)*m,t):null},e.adjoint=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=r[4],i=r[5],u=r[6],s=r[7],f=r[8];return t[0]=c*f-i*s,t[1]=n*s-a*f,t[2]=a*i-n*c,t[3]=i*u-o*f,t[4]=e*f-n*u,t[5]=n*o-e*i,t[6]=o*s-c*u,t[7]=a*u-e*s,t[8]=e*c-a*o,t},e.determinant=function(t){var r=t[0],e=t[1],a=t[2],n=t[3],o=t[4],c=t[5],i=t[6],u=t[7],s=t[8];return r*(s*o-c*u)+e*(-s*n+c*i)+a*(u*n-o*i)},e.multiply=n,e.translate=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=r[6],f=r[7],h=r[8],l=e[0],M=e[1];return t[0]=a,t[1]=n,t[2]=o,t[3]=c,t[4]=i,t[5]=u,t[6]=l*a+M*c+s,t[7]=l*n+M*i+f,t[8]=l*o+M*u+h,t},e.rotate=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=r[6],f=r[7],h=r[8],l=Math.sin(e),M=Math.cos(e);return t[0]=M*a+l*c,t[1]=M*n+l*i,t[2]=M*o+l*u,t[3]=M*c-l*a,t[4]=M*i-l*n,t[5]=M*u-l*o,t[6]=s,t[7]=f,t[8]=h,t},e.scale=function(t,r,e){var a=e[0],n=e[1];return t[0]=a*r[0],t[1]=a*r[1],t[2]=a*r[2],t[3]=n*r[3],t[4]=n*r[4],t[5]=n*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t},e.fromTranslation=function(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=r[0],t[7]=r[1],t[8]=1,t},e.fromRotation=function(t,r){var e=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=e,t[2]=0,t[3]=-e,t[4]=a,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=r[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t},e.fromQuat=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=e+e,i=a+a,u=n+n,s=e*c,f=a*c,h=a*i,l=n*c,M=n*i,m=n*u,d=o*c,v=o*i,b=o*u;return t[0]=1-h-m,t[3]=f-b,t[6]=l+v,t[1]=f+b,t[4]=1-s-m,t[7]=M-d,t[2]=l-v,t[5]=M+d,t[8]=1-s-h,t},e.normalFromMat4=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=r[4],i=r[5],u=r[6],s=r[7],f=r[8],h=r[9],l=r[10],M=r[11],m=r[12],d=r[13],v=r[14],b=r[15],p=e*i-a*c,y=e*u-n*c,g=e*s-o*c,P=a*u-n*i,O=a*s-o*i,E=n*s-o*u,x=f*d-h*m,j=f*v-l*m,A=f*b-M*m,R=h*v-l*d,w=h*b-M*d,_=l*b-M*v,T=p*_-y*w+g*R+P*A-O*j+E*x;return T?(T=1/T,t[0]=(i*_-u*w+s*R)*T,t[1]=(u*A-c*_-s*j)*T,t[2]=(c*w-i*A+s*x)*T,t[3]=(n*w-a*_-o*R)*T,t[4]=(e*_-n*A+o*j)*T,t[5]=(a*A-e*w-o*x)*T,t[6]=(d*E-v*O+b*P)*T,t[7]=(v*g-m*E-b*y)*T,t[8]=(m*O-d*g+b*p)*T,t):null},e.projection=function(t,r,e){return t[0]=2/r,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/e,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t[6]=r[6]+e[6],t[7]=r[7]+e[7],t[8]=r[8]+e[8],t},e.subtract=o,e.multiplyScalar=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t[8]=r[8]*e,t},e.multiplyScalarAndAdd=function(t,r,e,a){return t[0]=r[0]+e[0]*a,t[1]=r[1]+e[1]*a,t[2]=r[2]+e[2]*a,t[3]=r[3]+e[3]*a,t[4]=r[4]+e[4]*a,t[5]=r[5]+e[5]*a,t[6]=r[6]+e[6]*a,t[7]=r[7]+e[7]*a,t[8]=r[8]+e[8]*a,t},e.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]},e.equals=function(t,r){var e=t[0],n=t[1],o=t[2],c=t[3],i=t[4],u=t[5],s=t[6],f=t[7],h=t[8],l=r[0],M=r[1],m=r[2],d=r[3],v=r[4],b=r[5],p=r[6],y=r[7],g=r[8];return Math.abs(e-l)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(n-M)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(o-m)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(c-d)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(d))&&Math.abs(i-v)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(u-b)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(s-p)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(f-y)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(y))&&Math.abs(h-g)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(g))},e.sub=e.mul=void 0;var a=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}(t("./common.js"));function n(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=r[6],f=r[7],h=r[8],l=e[0],M=e[1],m=e[2],d=e[3],v=e[4],b=e[5],p=e[6],y=e[7],g=e[8];return t[0]=l*a+M*c+m*s,t[1]=l*n+M*i+m*f,t[2]=l*o+M*u+m*h,t[3]=d*a+v*c+b*s,t[4]=d*n+v*i+b*f,t[5]=d*o+v*u+b*h,t[6]=p*a+y*c+g*s,t[7]=p*n+y*i+g*f,t[8]=p*o+y*u+g*h,t}function o(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t[6]=r[6]-e[6],t[7]=r[7]-e[7],t[8]=r[8]-e[8],t}var c=n;e.mul=c;var i=o;e.sub=i},{"./common.js":"RI4K"}],MzkL:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new a.ARRAY_TYPE(16);return a.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},e.clone=function(t){var r=new a.ARRAY_TYPE(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},e.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},e.fromValues=function(t,r,e,n,o,c,i,u,s,f,h,l,M,m,d,v){var b=new a.ARRAY_TYPE(16);return b[0]=t,b[1]=r,b[2]=e,b[3]=n,b[4]=o,b[5]=c,b[6]=i,b[7]=u,b[8]=s,b[9]=f,b[10]=h,b[11]=l,b[12]=M,b[13]=m,b[14]=d,b[15]=v,b},e.set=function(t,r,e,a,n,o,c,i,u,s,f,h,l,M,m,d,v){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t[4]=o,t[5]=c,t[6]=i,t[7]=u,t[8]=s,t[9]=f,t[10]=h,t[11]=l,t[12]=M,t[13]=m,t[14]=d,t[15]=v,t},e.identity=n,e.transpose=function(t,r){if(t===r){var e=r[1],a=r[2],n=r[3],o=r[6],c=r[7],i=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=e,t[6]=r[9],t[7]=r[13],t[8]=a,t[9]=o,t[11]=r[14],t[12]=n,t[13]=c,t[14]=i}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t},e.invert=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=r[4],i=r[5],u=r[6],s=r[7],f=r[8],h=r[9],l=r[10],M=r[11],m=r[12],d=r[13],v=r[14],b=r[15],p=e*i-a*c,y=e*u-n*c,g=e*s-o*c,P=a*u-n*i,O=a*s-o*i,E=n*s-o*u,x=f*d-h*m,j=f*v-l*m,A=f*b-M*m,R=h*v-l*d,w=h*b-M*d,_=l*b-M*v,T=p*_-y*w+g*R+P*A-O*j+E*x;return T?(T=1/T,t[0]=(i*_-u*w+s*R)*T,t[1]=(n*w-a*_-o*R)*T,t[2]=(d*E-v*O+b*P)*T,t[3]=(l*O-h*E-M*P)*T,t[4]=(u*A-c*_-s*j)*T,t[5]=(e*_-n*A+o*j)*T,t[6]=(v*g-m*E-b*y)*T,t[7]=(f*E-l*g+M*y)*T,t[8]=(c*w-i*A+s*x)*T,t[9]=(a*A-e*w-o*x)*T,t[10]=(m*O-d*g+b*p)*T,t[11]=(h*g-f*O-M*p)*T,t[12]=(i*j-c*R-u*x)*T,t[13]=(e*R-a*j+n*x)*T,t[14]=(d*y-m*P-v*p)*T,t[15]=(f*P-h*y+l*p)*T,t):null},e.adjoint=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=r[4],i=r[5],u=r[6],s=r[7],f=r[8],h=r[9],l=r[10],M=r[11],m=r[12],d=r[13],v=r[14],b=r[15];return t[0]=i*(l*b-M*v)-h*(u*b-s*v)+d*(u*M-s*l),t[1]=-(a*(l*b-M*v)-h*(n*b-o*v)+d*(n*M-o*l)),t[2]=a*(u*b-s*v)-i*(n*b-o*v)+d*(n*s-o*u),t[3]=-(a*(u*M-s*l)-i*(n*M-o*l)+h*(n*s-o*u)),t[4]=-(c*(l*b-M*v)-f*(u*b-s*v)+m*(u*M-s*l)),t[5]=e*(l*b-M*v)-f*(n*b-o*v)+m*(n*M-o*l),t[6]=-(e*(u*b-s*v)-c*(n*b-o*v)+m*(n*s-o*u)),t[7]=e*(u*M-s*l)-c*(n*M-o*l)+f*(n*s-o*u),t[8]=c*(h*b-M*d)-f*(i*b-s*d)+m*(i*M-s*h),t[9]=-(e*(h*b-M*d)-f*(a*b-o*d)+m*(a*M-o*h)),t[10]=e*(i*b-s*d)-c*(a*b-o*d)+m*(a*s-o*i),t[11]=-(e*(i*M-s*h)-c*(a*M-o*h)+f*(a*s-o*i)),t[12]=-(c*(h*v-l*d)-f*(i*v-u*d)+m*(i*l-u*h)),t[13]=e*(h*v-l*d)-f*(a*v-n*d)+m*(a*l-n*h),t[14]=-(e*(i*v-u*d)-c*(a*v-n*d)+m*(a*u-n*i)),t[15]=e*(i*l-u*h)-c*(a*l-n*h)+f*(a*u-n*i),t},e.determinant=function(t){var r=t[0],e=t[1],a=t[2],n=t[3],o=t[4],c=t[5],i=t[6],u=t[7],s=t[8],f=t[9],h=t[10],l=t[11],M=t[12],m=t[13],d=t[14],v=t[15];return(r*c-e*o)*(h*v-l*d)-(r*i-a*o)*(f*v-l*m)+(r*u-n*o)*(f*d-h*m)+(e*i-a*c)*(s*v-l*M)-(e*u-n*c)*(s*d-h*M)+(a*u-n*i)*(s*m-f*M)},e.multiply=o,e.translate=function(t,r,e){var a,n,o,c,i,u,s,f,h,l,M,m,d=e[0],v=e[1],b=e[2];return r===t?(t[12]=r[0]*d+r[4]*v+r[8]*b+r[12],t[13]=r[1]*d+r[5]*v+r[9]*b+r[13],t[14]=r[2]*d+r[6]*v+r[10]*b+r[14],t[15]=r[3]*d+r[7]*v+r[11]*b+r[15]):(a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=r[6],f=r[7],h=r[8],l=r[9],M=r[10],m=r[11],t[0]=a,t[1]=n,t[2]=o,t[3]=c,t[4]=i,t[5]=u,t[6]=s,t[7]=f,t[8]=h,t[9]=l,t[10]=M,t[11]=m,t[12]=a*d+i*v+h*b+r[12],t[13]=n*d+u*v+l*b+r[13],t[14]=o*d+s*v+M*b+r[14],t[15]=c*d+f*v+m*b+r[15]),t},e.scale=function(t,r,e){var a=e[0],n=e[1],o=e[2];return t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t[3]=r[3]*a,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=r[11]*o,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},e.rotate=function(t,r,e,n){var o,c,i,u,s,f,h,l,M,m,d,v,b,p,y,g,P,O,E,x,j,A,R,w,_=n[0],T=n[1],S=n[2],L=Math.sqrt(_*_+T*T+S*S);return L<a.EPSILON?null:(_*=L=1/L,T*=L,S*=L,o=Math.sin(e),i=1-(c=Math.cos(e)),u=r[0],s=r[1],f=r[2],h=r[3],l=r[4],M=r[5],m=r[6],d=r[7],v=r[8],b=r[9],p=r[10],y=r[11],g=_*_*i+c,P=T*_*i+S*o,O=S*_*i-T*o,E=_*T*i-S*o,x=T*T*i+c,j=S*T*i+_*o,A=_*S*i+T*o,R=T*S*i-_*o,w=S*S*i+c,t[0]=u*g+l*P+v*O,t[1]=s*g+M*P+b*O,t[2]=f*g+m*P+p*O,t[3]=h*g+d*P+y*O,t[4]=u*E+l*x+v*j,t[5]=s*E+M*x+b*j,t[6]=f*E+m*x+p*j,t[7]=h*E+d*x+y*j,t[8]=u*A+l*R+v*w,t[9]=s*A+M*R+b*w,t[10]=f*A+m*R+p*w,t[11]=h*A+d*R+y*w,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)},e.rotateX=function(t,r,e){var a=Math.sin(e),n=Math.cos(e),o=r[4],c=r[5],i=r[6],u=r[7],s=r[8],f=r[9],h=r[10],l=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=o*n+s*a,t[5]=c*n+f*a,t[6]=i*n+h*a,t[7]=u*n+l*a,t[8]=s*n-o*a,t[9]=f*n-c*a,t[10]=h*n-i*a,t[11]=l*n-u*a,t},e.rotateY=function(t,r,e){var a=Math.sin(e),n=Math.cos(e),o=r[0],c=r[1],i=r[2],u=r[3],s=r[8],f=r[9],h=r[10],l=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*n-s*a,t[1]=c*n-f*a,t[2]=i*n-h*a,t[3]=u*n-l*a,t[8]=o*a+s*n,t[9]=c*a+f*n,t[10]=i*a+h*n,t[11]=u*a+l*n,t},e.rotateZ=function(t,r,e){var a=Math.sin(e),n=Math.cos(e),o=r[0],c=r[1],i=r[2],u=r[3],s=r[4],f=r[5],h=r[6],l=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*n+s*a,t[1]=c*n+f*a,t[2]=i*n+h*a,t[3]=u*n+l*a,t[4]=s*n-o*a,t[5]=f*n-c*a,t[6]=h*n-i*a,t[7]=l*n-u*a,t},e.fromTranslation=function(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},e.fromScaling=function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=r[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotation=function(t,r,e){var n,o,c,i=e[0],u=e[1],s=e[2],f=Math.sqrt(i*i+u*u+s*s);return f<a.EPSILON?null:(i*=f=1/f,u*=f,s*=f,n=Math.sin(r),c=1-(o=Math.cos(r)),t[0]=i*i*c+o,t[1]=u*i*c+s*n,t[2]=s*i*c-u*n,t[3]=0,t[4]=i*u*c-s*n,t[5]=u*u*c+o,t[6]=s*u*c+i*n,t[7]=0,t[8]=i*s*c+u*n,t[9]=u*s*c-i*n,t[10]=s*s*c+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},e.fromXRotation=function(t,r){var e=Math.sin(r),a=Math.cos(r);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromYRotation=function(t,r){var e=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromZRotation=function(t,r){var e=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotationTranslation=c,e.fromQuat2=function(t,r){var e=new a.ARRAY_TYPE(3),n=-r[0],o=-r[1],i=-r[2],u=r[3],s=r[4],f=r[5],h=r[6],l=r[7],M=n*n+o*o+i*i+u*u;return M>0?(e[0]=2*(s*u+l*n+f*i-h*o)/M,e[1]=2*(f*u+l*o+h*n-s*i)/M,e[2]=2*(h*u+l*i+s*o-f*n)/M):(e[0]=2*(s*u+l*n+f*i-h*o),e[1]=2*(f*u+l*o+h*n-s*i),e[2]=2*(h*u+l*i+s*o-f*n)),c(t,r,e),t},e.getTranslation=function(t,r){return t[0]=r[12],t[1]=r[13],t[2]=r[14],t},e.getScaling=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[4],c=r[5],i=r[6],u=r[8],s=r[9],f=r[10];return t[0]=Math.sqrt(e*e+a*a+n*n),t[1]=Math.sqrt(o*o+c*c+i*i),t[2]=Math.sqrt(u*u+s*s+f*f),t},e.getRotation=function(t,r){var e=r[0]+r[5]+r[10],a=0;return e>0?(a=2*Math.sqrt(e+1),t[3]=.25*a,t[0]=(r[6]-r[9])/a,t[1]=(r[8]-r[2])/a,t[2]=(r[1]-r[4])/a):r[0]>r[5]&&r[0]>r[10]?(a=2*Math.sqrt(1+r[0]-r[5]-r[10]),t[3]=(r[6]-r[9])/a,t[0]=.25*a,t[1]=(r[1]+r[4])/a,t[2]=(r[8]+r[2])/a):r[5]>r[10]?(a=2*Math.sqrt(1+r[5]-r[0]-r[10]),t[3]=(r[8]-r[2])/a,t[0]=(r[1]+r[4])/a,t[1]=.25*a,t[2]=(r[6]+r[9])/a):(a=2*Math.sqrt(1+r[10]-r[0]-r[5]),t[3]=(r[1]-r[4])/a,t[0]=(r[8]+r[2])/a,t[1]=(r[6]+r[9])/a,t[2]=.25*a),t},e.fromRotationTranslationScale=function(t,r,e,a){var n=r[0],o=r[1],c=r[2],i=r[3],u=n+n,s=o+o,f=c+c,h=n*u,l=n*s,M=n*f,m=o*s,d=o*f,v=c*f,b=i*u,p=i*s,y=i*f,g=a[0],P=a[1],O=a[2];return t[0]=(1-(m+v))*g,t[1]=(l+y)*g,t[2]=(M-p)*g,t[3]=0,t[4]=(l-y)*P,t[5]=(1-(h+v))*P,t[6]=(d+b)*P,t[7]=0,t[8]=(M+p)*O,t[9]=(d-b)*O,t[10]=(1-(h+m))*O,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},e.fromRotationTranslationScaleOrigin=function(t,r,e,a,n){var o=r[0],c=r[1],i=r[2],u=r[3],s=o+o,f=c+c,h=i+i,l=o*s,M=o*f,m=o*h,d=c*f,v=c*h,b=i*h,p=u*s,y=u*f,g=u*h,P=a[0],O=a[1],E=a[2],x=n[0],j=n[1],A=n[2],R=(1-(d+b))*P,w=(M+g)*P,_=(m-y)*P,T=(M-g)*O,S=(1-(l+b))*O,L=(v+p)*O,I=(m+y)*E,q=(v-p)*E,N=(1-(l+d))*E;return t[0]=R,t[1]=w,t[2]=_,t[3]=0,t[4]=T,t[5]=S,t[6]=L,t[7]=0,t[8]=I,t[9]=q,t[10]=N,t[11]=0,t[12]=e[0]+x-(R*x+T*j+I*A),t[13]=e[1]+j-(w*x+S*j+q*A),t[14]=e[2]+A-(_*x+L*j+N*A),t[15]=1,t},e.fromQuat=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=e+e,i=a+a,u=n+n,s=e*c,f=a*c,h=a*i,l=n*c,M=n*i,m=n*u,d=o*c,v=o*i,b=o*u;return t[0]=1-h-m,t[1]=f+b,t[2]=l-v,t[3]=0,t[4]=f-b,t[5]=1-s-m,t[6]=M+d,t[7]=0,t[8]=l+v,t[9]=M-d,t[10]=1-s-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.frustum=function(t,r,e,a,n,o,c){var i=1/(e-r),u=1/(n-a),s=1/(o-c);return t[0]=2*o*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(e+r)*i,t[9]=(n+a)*u,t[10]=(c+o)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=c*o*2*s,t[15]=0,t},e.perspective=function(t,r,e,a,n){var o,c=1/Math.tan(r/2);return t[0]=c/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=n&&n!==1/0?(o=1/(a-n),t[10]=(n+a)*o,t[14]=2*n*a*o):(t[10]=-1,t[14]=-2*a),t},e.perspectiveFromFieldOfView=function(t,r,e,a){var n=Math.tan(r.upDegrees*Math.PI/180),o=Math.tan(r.downDegrees*Math.PI/180),c=Math.tan(r.leftDegrees*Math.PI/180),i=Math.tan(r.rightDegrees*Math.PI/180),u=2/(c+i),s=2/(n+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(c-i)*u*.5,t[9]=(n-o)*s*.5,t[10]=a/(e-a),t[11]=-1,t[12]=0,t[13]=0,t[14]=a*e/(e-a),t[15]=0,t},e.ortho=function(t,r,e,a,n,o,c){var i=1/(r-e),u=1/(a-n),s=1/(o-c);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(r+e)*i,t[13]=(n+a)*u,t[14]=(c+o)*s,t[15]=1,t},e.lookAt=function(t,r,e,o){var c,i,u,s,f,h,l,M,m,d,v=r[0],b=r[1],p=r[2],y=o[0],g=o[1],P=o[2],O=e[0],E=e[1],x=e[2];return Math.abs(v-O)<a.EPSILON&&Math.abs(b-E)<a.EPSILON&&Math.abs(p-x)<a.EPSILON?n(t):(l=v-O,M=b-E,m=p-x,c=g*(m*=d=1/Math.sqrt(l*l+M*M+m*m))-P*(M*=d),i=P*(l*=d)-y*m,u=y*M-g*l,(d=Math.sqrt(c*c+i*i+u*u))?(c*=d=1/d,i*=d,u*=d):(c=0,i=0,u=0),s=M*u-m*i,f=m*c-l*u,h=l*i-M*c,(d=Math.sqrt(s*s+f*f+h*h))?(s*=d=1/d,f*=d,h*=d):(s=0,f=0,h=0),t[0]=c,t[1]=s,t[2]=l,t[3]=0,t[4]=i,t[5]=f,t[6]=M,t[7]=0,t[8]=u,t[9]=h,t[10]=m,t[11]=0,t[12]=-(c*v+i*b+u*p),t[13]=-(s*v+f*b+h*p),t[14]=-(l*v+M*b+m*p),t[15]=1,t)},e.targetTo=function(t,r,e,a){var n=r[0],o=r[1],c=r[2],i=a[0],u=a[1],s=a[2],f=n-e[0],h=o-e[1],l=c-e[2],M=f*f+h*h+l*l;M>0&&(f*=M=1/Math.sqrt(M),h*=M,l*=M);var m=u*l-s*h,d=s*f-i*l,v=i*h-u*f;return(M=m*m+d*d+v*v)>0&&(m*=M=1/Math.sqrt(M),d*=M,v*=M),t[0]=m,t[1]=d,t[2]=v,t[3]=0,t[4]=h*v-l*d,t[5]=l*m-f*v,t[6]=f*d-h*m,t[7]=0,t[8]=f,t[9]=h,t[10]=l,t[11]=0,t[12]=n,t[13]=o,t[14]=c,t[15]=1,t},e.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t[6]=r[6]+e[6],t[7]=r[7]+e[7],t[8]=r[8]+e[8],t[9]=r[9]+e[9],t[10]=r[10]+e[10],t[11]=r[11]+e[11],t[12]=r[12]+e[12],t[13]=r[13]+e[13],t[14]=r[14]+e[14],t[15]=r[15]+e[15],t},e.subtract=i,e.multiplyScalar=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t[8]=r[8]*e,t[9]=r[9]*e,t[10]=r[10]*e,t[11]=r[11]*e,t[12]=r[12]*e,t[13]=r[13]*e,t[14]=r[14]*e,t[15]=r[15]*e,t},e.multiplyScalarAndAdd=function(t,r,e,a){return t[0]=r[0]+e[0]*a,t[1]=r[1]+e[1]*a,t[2]=r[2]+e[2]*a,t[3]=r[3]+e[3]*a,t[4]=r[4]+e[4]*a,t[5]=r[5]+e[5]*a,t[6]=r[6]+e[6]*a,t[7]=r[7]+e[7]*a,t[8]=r[8]+e[8]*a,t[9]=r[9]+e[9]*a,t[10]=r[10]+e[10]*a,t[11]=r[11]+e[11]*a,t[12]=r[12]+e[12]*a,t[13]=r[13]+e[13]*a,t[14]=r[14]+e[14]*a,t[15]=r[15]+e[15]*a,t},e.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]&&t[9]===r[9]&&t[10]===r[10]&&t[11]===r[11]&&t[12]===r[12]&&t[13]===r[13]&&t[14]===r[14]&&t[15]===r[15]},e.equals=function(t,r){var e=t[0],n=t[1],o=t[2],c=t[3],i=t[4],u=t[5],s=t[6],f=t[7],h=t[8],l=t[9],M=t[10],m=t[11],d=t[12],v=t[13],b=t[14],p=t[15],y=r[0],g=r[1],P=r[2],O=r[3],E=r[4],x=r[5],j=r[6],A=r[7],R=r[8],w=r[9],_=r[10],T=r[11],S=r[12],L=r[13],I=r[14],q=r[15];return Math.abs(e-y)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(y))&&Math.abs(n-g)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(o-P)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(P))&&Math.abs(c-O)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(i-E)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(u-x)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(s-j)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(j))&&Math.abs(f-A)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(h-R)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(R))&&Math.abs(l-w)<=a.EPSILON*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(M-_)<=a.EPSILON*Math.max(1,Math.abs(M),Math.abs(_))&&Math.abs(m-T)<=a.EPSILON*Math.max(1,Math.abs(m),Math.abs(T))&&Math.abs(d-S)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(S))&&Math.abs(v-L)<=a.EPSILON*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(b-I)<=a.EPSILON*Math.max(1,Math.abs(b),Math.abs(I))&&Math.abs(p-q)<=a.EPSILON*Math.max(1,Math.abs(p),Math.abs(q))},e.sub=e.mul=void 0;var a=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}(t("./common.js"));function n(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function o(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=r[4],u=r[5],s=r[6],f=r[7],h=r[8],l=r[9],M=r[10],m=r[11],d=r[12],v=r[13],b=r[14],p=r[15],y=e[0],g=e[1],P=e[2],O=e[3];return t[0]=y*a+g*i+P*h+O*d,t[1]=y*n+g*u+P*l+O*v,t[2]=y*o+g*s+P*M+O*b,t[3]=y*c+g*f+P*m+O*p,y=e[4],g=e[5],P=e[6],O=e[7],t[4]=y*a+g*i+P*h+O*d,t[5]=y*n+g*u+P*l+O*v,t[6]=y*o+g*s+P*M+O*b,t[7]=y*c+g*f+P*m+O*p,y=e[8],g=e[9],P=e[10],O=e[11],t[8]=y*a+g*i+P*h+O*d,t[9]=y*n+g*u+P*l+O*v,t[10]=y*o+g*s+P*M+O*b,t[11]=y*c+g*f+P*m+O*p,y=e[12],g=e[13],P=e[14],O=e[15],t[12]=y*a+g*i+P*h+O*d,t[13]=y*n+g*u+P*l+O*v,t[14]=y*o+g*s+P*M+O*b,t[15]=y*c+g*f+P*m+O*p,t}function c(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=a+a,u=n+n,s=o+o,f=a*i,h=a*u,l=a*s,M=n*u,m=n*s,d=o*s,v=c*i,b=c*u,p=c*s;return t[0]=1-(M+d),t[1]=h+p,t[2]=l-b,t[3]=0,t[4]=h-p,t[5]=1-(f+d),t[6]=m+v,t[7]=0,t[8]=l+b,t[9]=m-v,t[10]=1-(f+M),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function i(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t[6]=r[6]-e[6],t[7]=r[7]-e[7],t[8]=r[8]-e[8],t[9]=r[9]-e[9],t[10]=r[10]-e[10],t[11]=r[11]-e[11],t[12]=r[12]-e[12],t[13]=r[13]-e[13],t[14]=r[14]-e[14],t[15]=r[15]-e[15],t}var u=o;e.mul=u;var s=i;e.sub=s},{"./common.js":"RI4K"}],"1bMR":[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=n,e.clone=function(t){var r=new a.ARRAY_TYPE(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r},e.length=o,e.fromValues=c,e.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t},e.set=function(t,r,e,a){return t[0]=r,t[1]=e,t[2]=a,t},e.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t},e.subtract=i,e.multiply=u,e.divide=s,e.ceil=function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t},e.floor=function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t},e.min=function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t},e.max=function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t},e.round=function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t},e.scale=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t},e.scaleAndAdd=function(t,r,e,a){return t[0]=r[0]+e[0]*a,t[1]=r[1]+e[1]*a,t[2]=r[2]+e[2]*a,t},e.distance=f,e.squaredDistance=h,e.squaredLength=l,e.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t},e.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t},e.normalize=M,e.dot=m,e.cross=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=e[0],i=e[1],u=e[2];return t[0]=n*u-o*i,t[1]=o*c-a*u,t[2]=a*i-n*c,t},e.lerp=function(t,r,e,a){var n=r[0],o=r[1],c=r[2];return t[0]=n+a*(e[0]-n),t[1]=o+a*(e[1]-o),t[2]=c+a*(e[2]-c),t},e.hermite=function(t,r,e,a,n,o){var c=o*o,i=c*(2*o-3)+1,u=c*(o-2)+o,s=c*(o-1),f=c*(3-2*o);return t[0]=r[0]*i+e[0]*u+a[0]*s+n[0]*f,t[1]=r[1]*i+e[1]*u+a[1]*s+n[1]*f,t[2]=r[2]*i+e[2]*u+a[2]*s+n[2]*f,t},e.bezier=function(t,r,e,a,n,o){var c=1-o,i=c*c,u=o*o,s=i*c,f=3*o*i,h=3*u*c,l=u*o;return t[0]=r[0]*s+e[0]*f+a[0]*h+n[0]*l,t[1]=r[1]*s+e[1]*f+a[1]*h+n[1]*l,t[2]=r[2]*s+e[2]*f+a[2]*h+n[2]*l,t},e.random=function(t,r){r=r||1;var e=2*a.RANDOM()*Math.PI,n=2*a.RANDOM()-1,o=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(e)*o,t[1]=Math.sin(e)*o,t[2]=n*r,t},e.transformMat4=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=e[3]*a+e[7]*n+e[11]*o+e[15];return c=c||1,t[0]=(e[0]*a+e[4]*n+e[8]*o+e[12])/c,t[1]=(e[1]*a+e[5]*n+e[9]*o+e[13])/c,t[2]=(e[2]*a+e[6]*n+e[10]*o+e[14])/c,t},e.transformMat3=function(t,r,e){var a=r[0],n=r[1],o=r[2];return t[0]=a*e[0]+n*e[3]+o*e[6],t[1]=a*e[1]+n*e[4]+o*e[7],t[2]=a*e[2]+n*e[5]+o*e[8],t},e.transformQuat=function(t,r,e){var a=e[0],n=e[1],o=e[2],c=e[3],i=r[0],u=r[1],s=r[2],f=n*s-o*u,h=o*i-a*s,l=a*u-n*i,M=n*l-o*h,m=o*f-a*l,d=a*h-n*f,v=2*c;return f*=v,h*=v,l*=v,M*=2,m*=2,d*=2,t[0]=i+f+M,t[1]=u+h+m,t[2]=s+l+d,t},e.rotateX=function(t,r,e,a){var n=[],o=[];return n[0]=r[0]-e[0],n[1]=r[1]-e[1],n[2]=r[2]-e[2],o[0]=n[0],o[1]=n[1]*Math.cos(a)-n[2]*Math.sin(a),o[2]=n[1]*Math.sin(a)+n[2]*Math.cos(a),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},e.rotateY=function(t,r,e,a){var n=[],o=[];return n[0]=r[0]-e[0],n[1]=r[1]-e[1],n[2]=r[2]-e[2],o[0]=n[2]*Math.sin(a)+n[0]*Math.cos(a),o[1]=n[1],o[2]=n[2]*Math.cos(a)-n[0]*Math.sin(a),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},e.rotateZ=function(t,r,e,a){var n=[],o=[];return n[0]=r[0]-e[0],n[1]=r[1]-e[1],n[2]=r[2]-e[2],o[0]=n[0]*Math.cos(a)-n[1]*Math.sin(a),o[1]=n[0]*Math.sin(a)+n[1]*Math.cos(a),o[2]=n[2],t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},e.angle=function(t,r){var e=c(t[0],t[1],t[2]),a=c(r[0],r[1],r[2]);M(e,e),M(a,a);var n=m(e,a);return n>1?0:n<-1?Math.PI:Math.acos(n)},e.zero=function(t){return t[0]=0,t[1]=0,t[2]=0,t},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]},e.equals=function(t,r){var e=t[0],n=t[1],o=t[2],c=r[0],i=r[1],u=r[2];return Math.abs(e-c)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(n-i)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(o-u)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))},e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0;var a=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}(t("./common.js"));function n(){var t=new a.ARRAY_TYPE(3);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var r=t[0],e=t[1],a=t[2];return Math.sqrt(r*r+e*e+a*a)}function c(t,r,e){var n=new a.ARRAY_TYPE(3);return n[0]=t,n[1]=r,n[2]=e,n}function i(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t}function u(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t}function s(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t}function f(t,r){var e=r[0]-t[0],a=r[1]-t[1],n=r[2]-t[2];return Math.sqrt(e*e+a*a+n*n)}function h(t,r){var e=r[0]-t[0],a=r[1]-t[1],n=r[2]-t[2];return e*e+a*a+n*n}function l(t){var r=t[0],e=t[1],a=t[2];return r*r+e*e+a*a}function M(t,r){var e=r[0],a=r[1],n=r[2],o=e*e+a*a+n*n;return o>0&&(o=1/Math.sqrt(o)),t[0]=r[0]*o,t[1]=r[1]*o,t[2]=r[2]*o,t}function m(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}var d=i;e.sub=d;var v=u;e.mul=v;var b=s;e.div=b;var p=f;e.dist=p;var y=h;e.sqrDist=y;var g=o;e.len=g;var P=l;e.sqrLen=P;var O=function(){var t=n();return function(r,e,a,n,o,c){var i,u;for(e||(e=3),a||(a=0),u=n?Math.min(n*e+a,r.length):r.length,i=a;i<u;i+=e)t[0]=r[i],t[1]=r[i+1],t[2]=r[i+2],o(t,t,c),r[i]=t[0],r[i+1]=t[1],r[i+2]=t[2];return r}}();e.forEach=O},{"./common.js":"RI4K"}],"6S6I":[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=n,e.clone=function(t){var r=new a.ARRAY_TYPE(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},e.fromValues=function(t,r,e,n){var o=new a.ARRAY_TYPE(4);return o[0]=t,o[1]=r,o[2]=e,o[3]=n,o},e.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},e.set=function(t,r,e,a,n){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t},e.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t},e.subtract=o,e.multiply=c,e.divide=i,e.ceil=function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t[3]=Math.ceil(r[3]),t},e.floor=function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t[3]=Math.floor(r[3]),t},e.min=function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t[3]=Math.min(r[3],e[3]),t},e.max=function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t[3]=Math.max(r[3],e[3]),t},e.round=function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t[3]=Math.round(r[3]),t},e.scale=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t},e.scaleAndAdd=function(t,r,e,a){return t[0]=r[0]+e[0]*a,t[1]=r[1]+e[1]*a,t[2]=r[2]+e[2]*a,t[3]=r[3]+e[3]*a,t},e.distance=u,e.squaredDistance=s,e.length=f,e.squaredLength=h,e.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t},e.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t},e.normalize=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=e*e+a*a+n*n+o*o;return c>0&&(c=1/Math.sqrt(c)),t[0]=e*c,t[1]=a*c,t[2]=n*c,t[3]=o*c,t},e.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]},e.cross=function(t,r,e,a){var n=e[0]*a[1]-e[1]*a[0],o=e[0]*a[2]-e[2]*a[0],c=e[0]*a[3]-e[3]*a[0],i=e[1]*a[2]-e[2]*a[1],u=e[1]*a[3]-e[3]*a[1],s=e[2]*a[3]-e[3]*a[2],f=r[0],h=r[1],l=r[2],M=r[3];return t[0]=h*s-l*u+M*i,t[1]=-f*s+l*c-M*o,t[2]=f*u-h*c+M*n,t[3]=-f*i+h*o-l*n,t},e.lerp=function(t,r,e,a){var n=r[0],o=r[1],c=r[2],i=r[3];return t[0]=n+a*(e[0]-n),t[1]=o+a*(e[1]-o),t[2]=c+a*(e[2]-c),t[3]=i+a*(e[3]-i),t},e.random=function(t,r){var e,n,o,c,i,u;r=r||1;do{i=(e=2*a.RANDOM()-1)*e+(n=2*a.RANDOM()-1)*n}while(i>=1);do{u=(o=2*a.RANDOM()-1)*o+(c=2*a.RANDOM()-1)*c}while(u>=1);var s=Math.sqrt((1-i)/u);return t[0]=r*e,t[1]=r*n,t[2]=r*o*s,t[3]=r*c*s,t},e.transformMat4=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3];return t[0]=e[0]*a+e[4]*n+e[8]*o+e[12]*c,t[1]=e[1]*a+e[5]*n+e[9]*o+e[13]*c,t[2]=e[2]*a+e[6]*n+e[10]*o+e[14]*c,t[3]=e[3]*a+e[7]*n+e[11]*o+e[15]*c,t},e.transformQuat=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=e[0],i=e[1],u=e[2],s=e[3],f=s*a+i*o-u*n,h=s*n+u*a-c*o,l=s*o+c*n-i*a,M=-c*a-i*n-u*o;return t[0]=f*s+M*-c+h*-u-l*-i,t[1]=h*s+M*-i+l*-c-f*-u,t[2]=l*s+M*-u+f*-i-h*-c,t[3]=r[3],t},e.zero=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},e.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]},e.equals=function(t,r){var e=t[0],n=t[1],o=t[2],c=t[3],i=r[0],u=r[1],s=r[2],f=r[3];return Math.abs(e-i)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(n-u)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-s)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(c-f)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(f))},e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0;var a=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}(t("./common.js"));function n(){var t=new a.ARRAY_TYPE(4);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function o(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function c(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t[3]=r[3]*e[3],t}function i(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t[3]=r[3]/e[3],t}function u(t,r){var e=r[0]-t[0],a=r[1]-t[1],n=r[2]-t[2],o=r[3]-t[3];return Math.sqrt(e*e+a*a+n*n+o*o)}function s(t,r){var e=r[0]-t[0],a=r[1]-t[1],n=r[2]-t[2],o=r[3]-t[3];return e*e+a*a+n*n+o*o}function f(t){var r=t[0],e=t[1],a=t[2],n=t[3];return Math.sqrt(r*r+e*e+a*a+n*n)}function h(t){var r=t[0],e=t[1],a=t[2],n=t[3];return r*r+e*e+a*a+n*n}var l=o;e.sub=l;var M=c;e.mul=M;var m=i;e.div=m;var d=u;e.dist=d;var v=s;e.sqrDist=v;var b=f;e.len=b;var p=h;e.sqrLen=p;var y=function(){var t=n();return function(r,e,a,n,o,c){var i,u;for(e||(e=4),a||(a=0),u=n?Math.min(n*e+a,r.length):r.length,i=a;i<u;i+=e)t[0]=r[i],t[1]=r[i+1],t[2]=r[i+2],t[3]=r[i+3],o(t,t,c),r[i]=t[0],r[i+1]=t[1],r[i+2]=t[2],r[i+3]=t[3];return r}}();e.forEach=y},{"./common.js":"RI4K"}],WNRX:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=u,e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},e.setAxisAngle=s,e.getAxisAngle=function(t,r){var e=2*Math.acos(r[3]),n=Math.sin(e/2);return n>a.EPSILON?(t[0]=r[0]/n,t[1]=r[1]/n,t[2]=r[2]/n):(t[0]=1,t[1]=0,t[2]=0),e},e.multiply=f,e.rotateX=function(t,r,e){e*=.5;var a=r[0],n=r[1],o=r[2],c=r[3],i=Math.sin(e),u=Math.cos(e);return t[0]=a*u+c*i,t[1]=n*u+o*i,t[2]=o*u-n*i,t[3]=c*u-a*i,t},e.rotateY=function(t,r,e){e*=.5;var a=r[0],n=r[1],o=r[2],c=r[3],i=Math.sin(e),u=Math.cos(e);return t[0]=a*u-o*i,t[1]=n*u+c*i,t[2]=o*u+a*i,t[3]=c*u-n*i,t},e.rotateZ=function(t,r,e){e*=.5;var a=r[0],n=r[1],o=r[2],c=r[3],i=Math.sin(e),u=Math.cos(e);return t[0]=a*u+n*i,t[1]=n*u-a*i,t[2]=o*u+c*i,t[3]=c*u-o*i,t},e.calculateW=function(t,r){var e=r[0],a=r[1],n=r[2];return t[0]=e,t[1]=a,t[2]=n,t[3]=Math.sqrt(Math.abs(1-e*e-a*a-n*n)),t},e.slerp=h,e.random=function(t){var r=a.RANDOM(),e=a.RANDOM(),n=a.RANDOM(),o=Math.sqrt(1-r),c=Math.sqrt(r);return t[0]=o*Math.sin(2*Math.PI*e),t[1]=o*Math.cos(2*Math.PI*e),t[2]=c*Math.sin(2*Math.PI*n),t[3]=c*Math.cos(2*Math.PI*n),t},e.invert=function(t,r){var e=r[0],a=r[1],n=r[2],o=r[3],c=e*e+a*a+n*n+o*o,i=c?1/c:0;return t[0]=-e*i,t[1]=-a*i,t[2]=-n*i,t[3]=o*i,t},e.conjugate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t},e.fromMat3=l,e.fromEuler=function(t,r,e,a){var n=.5*Math.PI/180;r*=n,e*=n,a*=n;var o=Math.sin(r),c=Math.cos(r),i=Math.sin(e),u=Math.cos(e),s=Math.sin(a),f=Math.cos(a);return t[0]=o*u*f-c*i*s,t[1]=c*i*f+o*u*s,t[2]=c*u*s-o*i*f,t[3]=c*u*f+o*i*s,t},e.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.setAxes=e.sqlerp=e.rotationTo=e.equals=e.exactEquals=e.normalize=e.sqrLen=e.squaredLength=e.len=e.length=e.lerp=e.dot=e.scale=e.mul=e.add=e.set=e.copy=e.fromValues=e.clone=void 0;var a=i(t("./common.js")),n=i(t("./mat3.js")),o=i(t("./vec3.js")),c=i(t("./vec4.js"));function i(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}function u(){var t=new a.ARRAY_TYPE(4);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function s(t,r,e){e*=.5;var a=Math.sin(e);return t[0]=a*r[0],t[1]=a*r[1],t[2]=a*r[2],t[3]=Math.cos(e),t}function f(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=e[0],u=e[1],s=e[2],f=e[3];return t[0]=a*f+c*i+n*s-o*u,t[1]=n*f+c*u+o*i-a*s,t[2]=o*f+c*s+a*u-n*i,t[3]=c*f-a*i-n*u-o*s,t}function h(t,r,e,n){var o,c,i,u,s,f=r[0],h=r[1],l=r[2],M=r[3],m=e[0],d=e[1],v=e[2],b=e[3];return(c=f*m+h*d+l*v+M*b)<0&&(c=-c,m=-m,d=-d,v=-v,b=-b),1-c>a.EPSILON?(o=Math.acos(c),i=Math.sin(o),u=Math.sin((1-n)*o)/i,s=Math.sin(n*o)/i):(u=1-n,s=n),t[0]=u*f+s*m,t[1]=u*h+s*d,t[2]=u*l+s*v,t[3]=u*M+s*b,t}function l(t,r){var e,a=r[0]+r[4]+r[8];if(a>0)e=Math.sqrt(a+1),t[3]=.5*e,e=.5/e,t[0]=(r[5]-r[7])*e,t[1]=(r[6]-r[2])*e,t[2]=(r[1]-r[3])*e;else{var n=0;r[4]>r[0]&&(n=1),r[8]>r[3*n+n]&&(n=2);var o=(n+1)%3,c=(n+2)%3;e=Math.sqrt(r[3*n+n]-r[3*o+o]-r[3*c+c]+1),t[n]=.5*e,e=.5/e,t[3]=(r[3*o+c]-r[3*c+o])*e,t[o]=(r[3*o+n]+r[3*n+o])*e,t[c]=(r[3*c+n]+r[3*n+c])*e}return t}var M=c.clone;e.clone=M;var m=c.fromValues;e.fromValues=m;var d=c.copy;e.copy=d;var v=c.set;e.set=v;var b=c.add;e.add=b;var p=f;e.mul=p;var y=c.scale;e.scale=y;var g=c.dot;e.dot=g;var P=c.lerp;e.lerp=P;var O=c.length;e.length=O;var E=O;e.len=E;var x=c.squaredLength;e.squaredLength=x;var j=x;e.sqrLen=j;var A=c.normalize;e.normalize=A;var R=c.exactEquals;e.exactEquals=R;var w=c.equals;e.equals=w;var _=function(){var t=o.create(),r=o.fromValues(1,0,0),e=o.fromValues(0,1,0);return function(a,n,c){var i=o.dot(n,c);return i<-.999999?(o.cross(t,r,n),o.len(t)<1e-6&&o.cross(t,e,n),o.normalize(t,t),s(a,t,Math.PI),a):i>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(o.cross(t,n,c),a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=1+i,A(a,a))}}();e.rotationTo=_;var T=function(){var t=u(),r=u();return function(e,a,n,o,c,i){return h(t,a,c,i),h(r,n,o,i),h(e,t,r,2*i*(1-i)),e}}();e.sqlerp=T;var S=function(){var t=n.create();return function(r,e,a,n){return t[0]=a[0],t[3]=a[1],t[6]=a[2],t[1]=n[0],t[4]=n[1],t[7]=n[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],A(r,l(r,t))}}();e.setAxes=S},{"./common.js":"RI4K","./mat3.js":"0C2V","./vec3.js":"1bMR","./vec4.js":"6S6I"}],ZUxj:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new a.ARRAY_TYPE(8);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t},e.clone=function(t){var r=new a.ARRAY_TYPE(8);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r},e.fromValues=function(t,r,e,n,o,c,i,u){var s=new a.ARRAY_TYPE(8);return s[0]=t,s[1]=r,s[2]=e,s[3]=n,s[4]=o,s[5]=c,s[6]=i,s[7]=u,s},e.fromRotationTranslationValues=function(t,r,e,n,o,c,i){var u=new a.ARRAY_TYPE(8);u[0]=t,u[1]=r,u[2]=e,u[3]=n;var s=.5*o,f=.5*c,h=.5*i;return u[4]=s*n+f*e-h*r,u[5]=f*n+h*t-s*e,u[6]=h*n+s*r-f*t,u[7]=-s*t-f*r-h*e,u},e.fromRotationTranslation=i,e.fromTranslation=function(t,r){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*r[0],t[5]=.5*r[1],t[6]=.5*r[2],t[7]=0,t},e.fromRotation=function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},e.fromMat4=function(t,r){var e=n.create();o.getRotation(e,r);var c=new a.ARRAY_TYPE(3);return o.getTranslation(c,r),i(t,e,c),t},e.copy=u,e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},e.set=function(t,r,e,a,n,o,c,i,u){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t[4]=o,t[5]=c,t[6]=i,t[7]=u,t},e.getDual=function(t,r){return t[0]=r[4],t[1]=r[5],t[2]=r[6],t[3]=r[7],t},e.setDual=function(t,r){return t[4]=r[0],t[5]=r[1],t[6]=r[2],t[7]=r[3],t},e.getTranslation=function(t,r){var e=r[4],a=r[5],n=r[6],o=r[7],c=-r[0],i=-r[1],u=-r[2],s=r[3];return t[0]=2*(e*s+o*c+a*u-n*i),t[1]=2*(a*s+o*i+n*c-e*u),t[2]=2*(n*s+o*u+e*i-a*c),t},e.translate=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=.5*e[0],u=.5*e[1],s=.5*e[2],f=r[4],h=r[5],l=r[6],M=r[7];return t[0]=a,t[1]=n,t[2]=o,t[3]=c,t[4]=c*i+n*s-o*u+f,t[5]=c*u+o*i-a*s+h,t[6]=c*s+a*u-n*i+l,t[7]=-a*i-n*u-o*s+M,t},e.rotateX=function(t,r,e){var a=-r[0],o=-r[1],c=-r[2],i=r[3],u=r[4],s=r[5],f=r[6],h=r[7],l=u*i+h*a+s*c-f*o,M=s*i+h*o+f*a-u*c,m=f*i+h*c+u*o-s*a,d=h*i-u*a-s*o-f*c;return n.rotateX(t,r,e),a=t[0],o=t[1],c=t[2],i=t[3],t[4]=l*i+d*a+M*c-m*o,t[5]=M*i+d*o+m*a-l*c,t[6]=m*i+d*c+l*o-M*a,t[7]=d*i-l*a-M*o-m*c,t},e.rotateY=function(t,r,e){var a=-r[0],o=-r[1],c=-r[2],i=r[3],u=r[4],s=r[5],f=r[6],h=r[7],l=u*i+h*a+s*c-f*o,M=s*i+h*o+f*a-u*c,m=f*i+h*c+u*o-s*a,d=h*i-u*a-s*o-f*c;return n.rotateY(t,r,e),a=t[0],o=t[1],c=t[2],i=t[3],t[4]=l*i+d*a+M*c-m*o,t[5]=M*i+d*o+m*a-l*c,t[6]=m*i+d*c+l*o-M*a,t[7]=d*i-l*a-M*o-m*c,t},e.rotateZ=function(t,r,e){var a=-r[0],o=-r[1],c=-r[2],i=r[3],u=r[4],s=r[5],f=r[6],h=r[7],l=u*i+h*a+s*c-f*o,M=s*i+h*o+f*a-u*c,m=f*i+h*c+u*o-s*a,d=h*i-u*a-s*o-f*c;return n.rotateZ(t,r,e),a=t[0],o=t[1],c=t[2],i=t[3],t[4]=l*i+d*a+M*c-m*o,t[5]=M*i+d*o+m*a-l*c,t[6]=m*i+d*c+l*o-M*a,t[7]=d*i-l*a-M*o-m*c,t},e.rotateByQuatAppend=function(t,r,e){var a=e[0],n=e[1],o=e[2],c=e[3],i=r[0],u=r[1],s=r[2],f=r[3];return t[0]=i*c+f*a+u*o-s*n,t[1]=u*c+f*n+s*a-i*o,t[2]=s*c+f*o+i*n-u*a,t[3]=f*c-i*a-u*n-s*o,i=r[4],u=r[5],s=r[6],f=r[7],t[4]=i*c+f*a+u*o-s*n,t[5]=u*c+f*n+s*a-i*o,t[6]=s*c+f*o+i*n-u*a,t[7]=f*c-i*a-u*n-s*o,t},e.rotateByQuatPrepend=function(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=e[0],u=e[1],s=e[2],f=e[3];return t[0]=a*f+c*i+n*s-o*u,t[1]=n*f+c*u+o*i-a*s,t[2]=o*f+c*s+a*u-n*i,t[3]=c*f-a*i-n*u-o*s,i=e[4],u=e[5],s=e[6],f=e[7],t[4]=a*f+c*i+n*s-o*u,t[5]=n*f+c*u+o*i-a*s,t[6]=o*f+c*s+a*u-n*i,t[7]=c*f-a*i-n*u-o*s,t},e.rotateAroundAxis=function(t,r,e,n){if(Math.abs(n)<a.EPSILON)return u(t,r);var o=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);n*=.5;var c=Math.sin(n),i=c*e[0]/o,s=c*e[1]/o,f=c*e[2]/o,h=Math.cos(n),l=r[0],M=r[1],m=r[2],d=r[3];t[0]=l*h+d*i+M*f-m*s,t[1]=M*h+d*s+m*i-l*f,t[2]=m*h+d*f+l*s-M*i,t[3]=d*h-l*i-M*s-m*f;var v=r[4],b=r[5],p=r[6],y=r[7];return t[4]=v*h+y*i+b*f-p*s,t[5]=b*h+y*s+p*i-v*f,t[6]=p*h+y*f+v*s-b*i,t[7]=y*h-v*i-b*s-p*f,t},e.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t[6]=r[6]+e[6],t[7]=r[7]+e[7],t},e.multiply=h,e.scale=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t},e.lerp=function(t,r,e,a){var n=1-a;return M(r,e)<0&&(a=-a),t[0]=r[0]*n+e[0]*a,t[1]=r[1]*n+e[1]*a,t[2]=r[2]*n+e[2]*a,t[3]=r[3]*n+e[3]*a,t[4]=r[4]*n+e[4]*a,t[5]=r[5]*n+e[5]*a,t[6]=r[6]*n+e[6]*a,t[7]=r[7]*n+e[7]*a,t},e.invert=function(t,r){var e=v(r);return t[0]=-r[0]/e,t[1]=-r[1]/e,t[2]=-r[2]/e,t[3]=r[3]/e,t[4]=-r[4]/e,t[5]=-r[5]/e,t[6]=-r[6]/e,t[7]=r[7]/e,t},e.conjugate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t[4]=-r[4],t[5]=-r[5],t[6]=-r[6],t[7]=r[7],t},e.normalize=function(t,r){var e=v(r);if(e>0){e=Math.sqrt(e);var a=r[0]/e,n=r[1]/e,o=r[2]/e,c=r[3]/e,i=r[4],u=r[5],s=r[6],f=r[7],h=a*i+n*u+o*s+c*f;t[0]=a,t[1]=n,t[2]=o,t[3]=c,t[4]=(i-a*h)/e,t[5]=(u-n*h)/e,t[6]=(s-o*h)/e,t[7]=(f-c*h)/e}return t},e.str=function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},e.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]},e.equals=function(t,r){var e=t[0],n=t[1],o=t[2],c=t[3],i=t[4],u=t[5],s=t[6],f=t[7],h=r[0],l=r[1],M=r[2],m=r[3],d=r[4],v=r[5],b=r[6],p=r[7];return Math.abs(e-h)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(n-l)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-M)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(c-m)<=a.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(i-d)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(u-v)<=a.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(s-b)<=a.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(f-p)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(p))},e.sqrLen=e.squaredLength=e.len=e.length=e.dot=e.mul=e.setReal=e.getReal=void 0;var a=c(t("./common.js")),n=c(t("./quat.js")),o=c(t("./mat4.js"));function c(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}function i(t,r,e){var a=.5*e[0],n=.5*e[1],o=.5*e[2],c=r[0],i=r[1],u=r[2],s=r[3];return t[0]=c,t[1]=i,t[2]=u,t[3]=s,t[4]=a*s+n*u-o*i,t[5]=n*s+o*c-a*u,t[6]=o*s+a*i-n*c,t[7]=-a*c-n*i-o*u,t}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t}var s=n.copy;e.getReal=s;var f=n.copy;function h(t,r,e){var a=r[0],n=r[1],o=r[2],c=r[3],i=e[4],u=e[5],s=e[6],f=e[7],h=r[4],l=r[5],M=r[6],m=r[7],d=e[0],v=e[1],b=e[2],p=e[3];return t[0]=a*p+c*d+n*b-o*v,t[1]=n*p+c*v+o*d-a*b,t[2]=o*p+c*b+a*v-n*d,t[3]=c*p-a*d-n*v-o*b,t[4]=a*f+c*i+n*s-o*u+h*p+m*d+l*b-M*v,t[5]=n*f+c*u+o*i-a*s+l*p+m*v+M*d-h*b,t[6]=o*f+c*s+a*u-n*i+M*p+m*b+h*v-l*d,t[7]=c*f-a*i-n*u-o*s+m*p-h*d-l*v-M*b,t}e.setReal=f;var l=h;e.mul=l;var M=n.dot;e.dot=M;var m=n.length;e.length=m;var d=m;e.len=d;var v=n.squaredLength;e.squaredLength=v;var b=v;e.sqrLen=b},{"./common.js":"RI4K","./quat.js":"WNRX","./mat4.js":"MzkL"}],GDs0:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=n,e.clone=function(t){var r=new a.ARRAY_TYPE(2);return r[0]=t[0],r[1]=t[1],r},e.fromValues=function(t,r){var e=new a.ARRAY_TYPE(2);return e[0]=t,e[1]=r,e},e.copy=function(t,r){return t[0]=r[0],t[1]=r[1],t},e.set=function(t,r,e){return t[0]=r,t[1]=e,t},e.add=function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t},e.subtract=o,e.multiply=c,e.divide=i,e.ceil=function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t},e.floor=function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t},e.min=function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t},e.max=function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t},e.round=function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t},e.scale=function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t},e.scaleAndAdd=function(t,r,e,a){return t[0]=r[0]+e[0]*a,t[1]=r[1]+e[1]*a,t},e.distance=u,e.squaredDistance=s,e.length=f,e.squaredLength=h,e.negate=function(t,r){return t[0]=-r[0],t[1]=-r[1],t},e.inverse=function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t},e.normalize=function(t,r){var e=r[0],a=r[1],n=e*e+a*a;return n>0&&(n=1/Math.sqrt(n)),t[0]=r[0]*n,t[1]=r[1]*n,t},e.dot=function(t,r){return t[0]*r[0]+t[1]*r[1]},e.cross=function(t,r,e){var a=r[0]*e[1]-r[1]*e[0];return t[0]=t[1]=0,t[2]=a,t},e.lerp=function(t,r,e,a){var n=r[0],o=r[1];return t[0]=n+a*(e[0]-n),t[1]=o+a*(e[1]-o),t},e.random=function(t,r){r=r||1;var e=2*a.RANDOM()*Math.PI;return t[0]=Math.cos(e)*r,t[1]=Math.sin(e)*r,t},e.transformMat2=function(t,r,e){var a=r[0],n=r[1];return t[0]=e[0]*a+e[2]*n,t[1]=e[1]*a+e[3]*n,t},e.transformMat2d=function(t,r,e){var a=r[0],n=r[1];return t[0]=e[0]*a+e[2]*n+e[4],t[1]=e[1]*a+e[3]*n+e[5],t},e.transformMat3=function(t,r,e){var a=r[0],n=r[1];return t[0]=e[0]*a+e[3]*n+e[6],t[1]=e[1]*a+e[4]*n+e[7],t},e.transformMat4=function(t,r,e){var a=r[0],n=r[1];return t[0]=e[0]*a+e[4]*n+e[12],t[1]=e[1]*a+e[5]*n+e[13],t},e.rotate=function(t,r,e,a){var n=r[0]-e[0],o=r[1]-e[1],c=Math.sin(a),i=Math.cos(a);return t[0]=n*i-o*c+e[0],t[1]=n*c+o*i+e[1],t},e.angle=function(t,r){var e=t[0],a=t[1],n=r[0],o=r[1],c=e*e+a*a;c>0&&(c=1/Math.sqrt(c));var i=n*n+o*o;i>0&&(i=1/Math.sqrt(i));var u=(e*n+a*o)*c*i;return u>1?0:u<-1?Math.PI:Math.acos(u)},e.zero=function(t){return t[0]=0,t[1]=0,t},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,r){return t[0]===r[0]&&t[1]===r[1]},e.equals=function(t,r){var e=t[0],n=t[1],o=r[0],c=r[1];return Math.abs(e-o)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(n-c)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))},e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0;var a=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}(t("./common.js"));function n(){var t=new a.ARRAY_TYPE(2);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t}function c(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t}function i(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t}function u(t,r){var e=r[0]-t[0],a=r[1]-t[1];return Math.sqrt(e*e+a*a)}function s(t,r){var e=r[0]-t[0],a=r[1]-t[1];return e*e+a*a}function f(t){var r=t[0],e=t[1];return Math.sqrt(r*r+e*e)}function h(t){var r=t[0],e=t[1];return r*r+e*e}var l=f;e.len=l;var M=o;e.sub=M;var m=c;e.mul=m;var d=i;e.div=d;var v=u;e.dist=v;var b=s;e.sqrDist=b;var p=h;e.sqrLen=p;var y=function(){var t=n();return function(r,e,a,n,o,c){var i,u;for(e||(e=2),a||(a=0),u=n?Math.min(n*e+a,r.length):r.length,i=a;i<u;i+=e)t[0]=r[i],t[1]=r[i+1],o(t,t,c),r[i]=t[0],r[i+1]=t[1];return r}}();e.forEach=y},{"./common.js":"RI4K"}],sbRv:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vec4=e.vec3=e.vec2=e.quat2=e.quat=e.mat4=e.mat3=e.mat2d=e.mat2=e.glMatrix=void 0;var a=M(t("./common.js"));e.glMatrix=a;var n=M(t("./mat2.js"));e.mat2=n;var o=M(t("./mat2d.js"));e.mat2d=o;var c=M(t("./mat3.js"));e.mat3=c;var i=M(t("./mat4.js"));e.mat4=i;var u=M(t("./quat.js"));e.quat=u;var s=M(t("./quat2.js"));e.quat2=s;var f=M(t("./vec2.js"));e.vec2=f;var h=M(t("./vec3.js"));e.vec3=h;var l=M(t("./vec4.js"));function M(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,e):{};a.get||a.set?Object.defineProperty(r,e,a):r[e]=t[e]}return r.default=t,r}e.vec4=l},{"./common.js":"RI4K","./mat2.js":"7Jbd","./mat2d.js":"1GwM","./mat3.js":"0C2V","./mat4.js":"MzkL","./quat.js":"WNRX","./quat2.js":"ZUxj","./vec2.js":"GDs0","./vec3.js":"1bMR","./vec4.js":"6S6I"}],gET3:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.m4=void 0;var a=t("gl-matrix");function n(t){return a.mat4.fromXRotation(a.mat4.create(),t)}function o(t){return a.mat4.fromYRotation(a.mat4.create(),t)}function c(t){return a.mat4.fromZRotation(a.mat4.create(),t)}function i(t,r){return a.mat4.multiply(a.mat4.create(),t,r)}const u={projection:function(t,r,e){return a.mat4.perspective(a.mat4.create(),45,t/r,.1,40)},translation:function(t,r,e){return a.mat4.fromTranslation(a.mat4.create(),a.vec3.fromValues(t,r,e))},scaling:function(t,r,e){return a.mat4.fromScaling(a.mat4.create(),a.vec3.fromValues(t,r,e))},multiply:i,multiplyAll:function(t,r){return function(){return[...arguments].reduce((r,e)=>t(r,e),r)}}(i,a.mat4.create()),identity:function(){return a.mat4.create()},invert:function(t){return a.mat4.invert(a.mat4.create(),t)},translate:function(t,r,e,a){return u.multiply(t,u.translation(r,e,a))},rotateX:function(t,r){return u.multiply(t,n(r))},rotateY:function(t,r){return u.multiply(t,o(r))},rotateZ:function(t,r){return u.multiply(t,c(r))},scale:function(t,r,e,a){return u.multiply(t,u.scaling(r,e,a))}};e.m4=u},{"gl-matrix":"sbRv"}],pNKp:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CameraTransform=e.Transform=void 0;var a=t("../m4");class n{constructor(){this.matrix=a.m4.identity(),this.translation={x:0,y:0,z:0},this.rotation={x:0,y:0,z:0},this.scale={x:1,y:1,z:1}}computeMatrix(t=a.m4.identity()){let r=a.m4.identity();r=a.m4.translate(r,this.translation.x,this.translation.y,this.translation.z),r=a.m4.rotateX(r,this.rotation.x),r=a.m4.rotateY(r,this.rotation.y),r=a.m4.rotateZ(r,this.rotation.z),r=a.m4.scale(r,this.scale.x,this.scale.y,this.scale.z),this.matrix=a.m4.multiply(t,r)}}e.Transform=n;e.CameraTransform=class extends n{computeMatrix(t=a.m4.identity()){let r=a.m4.identity();r=a.m4.scale(r,this.scale.x,this.scale.y,this.scale.z),r=a.m4.rotateX(r,this.rotation.x),r=a.m4.rotateY(r,this.rotation.y),r=a.m4.rotateZ(r,this.rotation.z),r=a.m4.translate(r,this.translation.x,this.translation.y,this.translation.z),this.matrix=a.m4.multiply(t,r)}}},{"../m4":"gET3"}],PR9F:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Camera=void 0;var a=t("../Transform"),n=t("../m4");e.Camera=class{constructor(){this.transform=new a.CameraTransform}get matrix(){return this.transform.matrix}get translation(){return this.transform.translation}get rotation(){return this.transform.rotation}get scale(){return this.transform.scale}get viewMatrix(){return this.computeMatrix(),n.m4.invert(this.transform.matrix)}computeMatrix(){this.transform.computeMatrix()}}},{"../Transform":"pNKp","../m4":"gET3"}],rDlP:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLRenderer=void 0;var a=t("./utils"),n=t("./m4"),o=t("./Camera");e.WebGLRenderer=class{constructor(t=document.createElement("canvas")){const r=t.getContext("webgl2");t.parentNode!==document.body&&(r.canvas.style.width="100vw",r.canvas.style.height="100vh",document.body.style.overflow="hidden",document.body.style.margin=0,document.body.appendChild(r.canvas)),this.gl=r,this.scene=[],this.camera=new o.Camera,this.projectionMatrix=n.m4.projection(this.gl.canvas.clientWidth,this.gl.canvas.clientHeight,this.gl.canvas.clientWidth),this.init(),this.startAnimating()}startAnimating(t=60){this.fpsInterval=1e3/t,this.then=Date.now(),this.startTime=this.then,this.render()}init(){}beforeDraw(t){this.scene.forEach(r=>{r.beforeDraw(t)})}drawFrame(t){const r=this.gl;this.scene.forEach(e=>{r.useProgram(e.program),e.hasRenderedOnce||(e.updateUniforms(),e.hasRenderedOnce=!0),r.bindVertexArray(e.vao),this.beforeDraw(t),e.setUniform("u_projectionMatrix",this.projectionMatrix),e.setUniform("u_viewMatrix",this.camera.viewMatrix),e.computeMatrix(),e.beforeDraw(t),e.updateUniforms();const a={primitiveType:"undefined"!==e.draw.primitiveType?e.draw.primitiveType:r.TRIANGLES,offset:e.draw.offset,count:e.draw.count};e.indices?r.drawElements(r.TRIANGLES,e.indices.srcData.length,r.UNSIGNED_SHORT,0):r.drawArrays(a.primitiveType,a.offset,a.count)})}render(){const t=this.gl;requestAnimationFrame(()=>this.render()),this.now=Date.now(),this.elapsed=this.now-this.then,this.elapsed>this.fpsInterval&&((0,a.resizeCanvas)(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clearColor(1,1,1,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.enable(t.DEPTH_TEST),this.drawFrame(this.then),this.then=this.now-this.elapsed%this.fpsInterval)}}},{"./utils":"N31D","./m4":"gET3","./Camera":"PR9F"}],"6NlL":[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Attribute=void 0;var a=t("./utils");e.Attribute=class{constructor(t){for(var r in t)this[r]=t[r]}bind(t,r){return this.gl=t,this.program=r,this}toGLSL(){return`in ${(0,a.getGLSLType)(this.componentType,this.type)} ${this.name};\n`}get location(){const t=this.gl.getAttribLocation(this.program,this.name);if(-1===t)throw new Error(`Maybe not used in shader. Haven't fount the location of the variable name "${this.name}"`);return t}get size(){return(0,a.getSize)(this.type)}get array(){return(0,a.getTypedArray)(this.srcData,this.componentType)}}},{"./utils":"N31D"}],SGZo:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Material=void 0;var a=t("../Uniform"),n=t("../Attribute");e.Material=class{constructor(t,r,e,o){this.attributes=t.map(t=>new n.Attribute(t)),this.uniforms=r.map(t=>new a.Uniform(t)),this.vertexShader=e,this.fragmentShader=o}}},{"../Uniform":"1//O","../Attribute":"6NlL"}],"96Ye":[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextureUniform=void 0;var a=t("./Uniform");e.TextureUniform=class extends a.Uniform{constructor(t){super(t),this.type="1i",this.src=t.src}bind(t,r){return this.gl=t,this.program=r,this.texture=this.loadTexture(t,this.src),this}toGLSL(){return`uniform sampler2D ${this.name};`}loadTexture(t,r){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([0,0,0,.2]));var a=new Image;return a.src=r,a.addEventListener("load",function(){t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,a),t.generateMipmap(t.TEXTURE_2D)}),e}beforeDraw(t){this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,texture),this.gl.uniform1i(programInfo.uniformLocations.u_texture,0)}}},{"./Uniform":"1//O"}],QGqB:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FragmentShader=e.VertexShader=e.Shader=void 0;t("../utils");class a{constructor(t){this.attributes=t.attributes,this.uniforms=t.uniforms,this.script=t.script}get decorated(){throw new Error("Use either VertexShader or FragmentShader instances")}}e.Shader=a;e.VertexShader=class extends a{get decorated(){return"#version 300 es\nprecision mediump float;\n"+this.attributes.map(t=>t.toGLSL()).join("")+"\n"+this.uniforms.map(t=>t.toGLSL()).join("")+"\n"+`${this.script}`}};e.FragmentShader=class extends a{get decorated(){return"#version 300 es\nprecision mediump float;\n"+this.uniforms.map(t=>t.toGLSL()).join("")+"\n"+`${this.script}`}}},{"../utils":"N31D"}],"/z+M":[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicMaterial=void 0;var a=t("../index"),n=t("../../Attribute"),o=t("../../Uniform"),c=t("../../TextureUniform"),i=t("../../Shader"),u=t("../../m4"),s=t("../../utils");e.BasicMaterial=class extends a.Material{constructor(t,r,e=[],a,s){const f=[{name:"u_modelMatrix",type:"Matrix4fv",value:u.m4.identity(),count:1},{name:"u_viewMatrix",type:"Matrix4fv",value:u.m4.identity(),count:1},{name:"u_projectionMatrix",type:"Matrix4fv",value:u.m4.identity(),count:1}];super(t,r=[...r,...f],a,s),this.attributes=t.map(t=>new n.Attribute(t)),this.uniforms=r.map(t=>new o.Uniform(t)),this.uniforms=[...this.uniforms,...e.map(t=>new c.TextureUniform(t))],this.vertexShaderSrc=new i.VertexShader({attributes:this.attributes,uniforms:this.uniforms,script:a}).decorated,this.fragmentShaderSrc=new i.FragmentShader({uniforms:this.uniforms,script:s}).decorated}createProgram(t){return(0,s.createProgramFromSource)(t,this.vertexShaderSrc,this.fragmentShaderSrc)}bindUniforms(t,r){return this.uniforms.concat([]).map(e=>e.bind(t,r))}bindAttributes(t,r){return this.attributes.concat([]).map(e=>e.bind(t,r))}}},{"../index":"SGZo","../../Attribute":"6NlL","../../Uniform":"1//O","../../TextureUniform":"96Ye","../../Shader":"QGqB","../../m4":"gET3","../../utils":"N31D"}],Ynks:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PbrMetallicRoughnessMaterial=void 0;var a=t("../BasicMaterial");e.PbrMetallicRoughnessMaterial=class extends a.BasicMaterial{constructor(t,r,e=[],a,n){super(t,r,e,a,n)}}},{"../BasicMaterial":"/z+M"}],YRoD:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Primitive=void 0;var a=t("../Transform");e.Primitive=class{constructor(t,r){this.gl=t,this.vao=null,this.hasRenderedOnce=!1,this.program=r.material.createProgram(this.gl),this.material=r.material,this.uniforms=this.material.bindUniforms(this.gl,this.program),this.attributes=this.material.bindAttributes(this.gl,this.program),this.indices=r.indices||null,this.draw=r.draw||{primitiveType:4,offset:0,count:3},this.draw.count=r.count,this.transform=new a.Transform,this.init()}get matrix(){return this.transform.matrix}get translation(){return this.transform.translation}get rotation(){return this.transform.rotation}get scale(){return this.transform.scale}computeMatrix(t){this.transform.computeMatrix(t)}setUniform(t,r){this.uniforms.find(r=>r.name===t).value=r}updateUniform(t,r){this.uniforms.find(r=>r.name===t).update(r)}updateUniforms(){this.uniforms.forEach(t=>{t.update()})}beforeDraw(t){}init(){const t=this.gl;this.vao=t.createVertexArray(),t.bindVertexArray(this.vao),this.attributes.forEach(r=>{r.srcData&&(t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer()),t.bufferData(t.ARRAY_BUFFER,r.array,t.STATIC_DRAW));const e={location:r.location,size:r.size,type:r.componentType,normalize:!0,stride:r.stride,offset:r.offset};if(this.indices){t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,t.createBuffer());const r={target:t.ELEMENT_ARRAY_BUFFER,srcData:new Uint16Array(this.indices.srcData),usage:t.STATIC_DRAW};t.bufferData(r.target,r.srcData,r.usage)}t.vertexAttribPointer(e.location,e.size,e.type,e.normalize,e.stride,e.offset),t.enableVertexAttribArray(r.location)})}}},{"../Transform":"pNKp"}],qzjc:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GltfPrimitive=void 0;var a=t("./index"),n=t("../Material/PbrMetallicRoughnessMaterial");e.GltfPrimitive=class extends a.Primitive{constructor(t,r,e=[],a,o){const c=new n.PbrMetallicRoughnessMaterial(r.attributes,[],e,a,o);super(t,{count:r.attributes[0].count,material:c,indices:r.indices})}}},{"./index":"YRoD","../Material/PbrMetallicRoughnessMaterial":"Ynks"}],QfkV:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={WebGLRenderer:!0};Object.defineProperty(e,"WebGLRenderer",{enumerable:!0,get:function(){return n.WebGLRenderer}});var n=t("./WebGLRenderer"),o=t("./Camera");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))});var c=t("./Material");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}}))});var i=t("./Material/BasicMaterial");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))});var u=t("./Material/PbrMetallicRoughnessMaterial");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))});var s=t("./Primitive");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))});var f=t("./Primitive/GltfPrimitive");Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}}))});var h=t("./Shader");Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}}))});var l=t("./Transform");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}}))});var M=t("./Attribute");Object.keys(M).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return M[t]}}))});var m=t("./m4");Object.keys(m).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}}))});var d=t("./TextureUniform");Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}}))});var v=t("./Uniform");Object.keys(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}}))});var b=t("./utils");Object.keys(b).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(a,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return b[t]}}))})},{"./WebGLRenderer":"rDlP","./Camera":"PR9F","./Material":"SGZo","./Material/BasicMaterial":"/z+M","./Material/PbrMetallicRoughnessMaterial":"Ynks","./Primitive":"YRoD","./Primitive/GltfPrimitive":"qzjc","./Shader":"QGqB","./Transform":"pNKp","./Attribute":"6NlL","./m4":"gET3","./TextureUniform":"96Ye","./Uniform":"1//O","./utils":"N31D"}],drcf:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grid=void 0;var a=c(t("./fragment.glsl")),n=c(t("./vertex.glsl")),o=t("@nardgl/core");function c(t){return t&&t.__esModule?t:{default:t}}let i=[0,-1,0,3,0,1,0,3,0,0,-1,2,0,0,1,2,-1,0,0,1,1,0,0,1];for(var u=2/14;u<=1;u+=2/14){let t=[u,1,0,0,u,-1,0,0,-u,1,0,0,-u,-1,0,0],r=[1,u,0,0,-1,u,0,0,1,-u,0,0,-1,-u,0,0];i=[...i,...t,...r]}const s=i.length/4,f=[{name:"a_position",type:"VEC3",componentType:5126,count:s,srcData:i,stride:4*Float32Array.BYTES_PER_ELEMENT,offset:0},{name:"a_colors",type:"SCALAR",componentType:5126,count:s,stride:4*Float32Array.BYTES_PER_ELEMENT,offset:3*Float32Array.BYTES_PER_ELEMENT}],h={material:new o.BasicMaterial(f,[{name:"u_colors",type:"3fv",value:[.8,.8,.8,1,0,0,0,1,0,0,0,1],count:4}],[],n.default,a.default),count:s,draw:{primitiveType:1,offset:0}};e.Grid=class extends o.Primitive{constructor(t){super(t,h)}beforeDraw(){this.setUniform("u_modelMatrix",this.matrix)}}},{"./fragment.glsl":"ExQ0","./vertex.glsl":"C7yz","@nardgl/core":"QfkV"}],"/8V9":[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("./Grid");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})})},{"./Grid":"drcf"}],Focm:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(t("../package.json")),n=s(t("@nardgl/console-greeting")),o=t("@nardgl/loader");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var c=t("@nardgl/core");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})});var i=t("@nardgl/gltf-parser");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var u=t("@nardgl/utils");function s(t){return t&&t.__esModule?t:{default:t}}Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})}),(0,n.default)("NardGL",a.default.version)},{"../package.json":"EHrm","@nardgl/console-greeting":"NAth","@nardgl/loader":"MrHW","@nardgl/core":"1WZ7","@nardgl/gltf-parser":"ZnSu","@nardgl/utils":"/8V9"}]},{},["Focm"]);
},{}],"bxVh":[function(require,module,exports) {
module.exports="#define GLSLIFY 1\nvoid main() {\n  gl_PointSize = u_pointSize;\n  vec4 modelPosition = u_modelMatrix * vec4(a_position, 1.0);\n\n  gl_Position = u_projectionMatrix * u_viewMatrix * modelPosition;\n  //gl_Position = modelViewPosition;\n}";
},{}],"cQDC":[function(require,module,exports) {
module.exports="#define GLSLIFY 1\nout vec4 outColor;\n\nvoid main() {\n  float r = length(gl_PointCoord.xy - vec2(0.5));\n  if(r > 0.5) {\n    discard;\n  } else {\n    outColor = vec4(0.0, 0.0, 0.0, 1.0);\n  }\n}";
},{}],"pqoA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Particles=void 0;var e=i(require("./vertex.glsl")),t=i(require("./fragment.glsl")),r=require("nardgl");function i(e){return e&&e.__esModule?e:{default:e}}const s=[{name:"a_position",type:"VEC3",componentType:5126,count:3,srcData:[0,0,0,.5,.5,0,-.5,-.5,0],stride:0,offset:0}],a=[{name:"u_pointSize",type:"1f",value:50,count:1}],o=new r.BasicMaterial(s,a,[],e.default,t.default),n={primitiveType:0,offset:0},u={material:o,draw:n,count:3};class l extends r.Primitive{constructor(e){super(e,u)}beforeDraw(e){this.setUniform("u_modelMatrix",this.matrix),this.setUniform("u_pointSize",41*(.5*Math.sin(e/1e3)+.5))}}exports.Particles=l;
},{"./vertex.glsl":"bxVh","./fragment.glsl":"cQDC","nardgl":"7DSo"}],"0Upb":[function(require,module,exports) {
module.exports="#define GLSLIFY 1\nout lowp vec4 color;\t//Color to send to fragment shader.\n\nvoid main() {\n  color = COLOR_0;\n  gl_PointSize = 15.0;\n  vec4 modelPosition = u_modelMatrix * vec4(POSITION, 1.0);\n  gl_Position = u_projectionMatrix * u_viewMatrix * modelPosition;\n}";
},{}],"OC04":[function(require,module,exports) {
module.exports="#define GLSLIFY 1\nin vec4 color;\nout vec4 finalColor;\n\nvoid main(void){\n\tfinalColor = vec4(color.rgb, 1.0);\n}";
},{}],"k/je":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Quad=void 0;var e=i(require("nardgl")),r=o(require("./vertex.glsl")),t=o(require("./fragment.glsl"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};o.get||o.set?Object.defineProperty(r,t,o):r[t]=e[t]}return r.default=e,r}class u extends e.GltfPrimitive{constructor(e,o){super(e,o,[],r.default,t.default)}beforeDraw(){this.setUniform("u_modelMatrix",this.matrix)}}exports.Quad=u;
},{"nardgl":"7DSo","./vertex.glsl":"0Upb","./fragment.glsl":"OC04"}],"2GFP":[function(require,module,exports) {
module.exports="#define GLSLIFY 1\n//out vec4 color;\t//Color to send to fragment shader.\n//out vec3 vNormal; \nout vec2 vUv;\n\nvoid main() {\n  vec4 modelPosition = u_modelMatrix * vec4(POSITION, 1.0);\n  gl_Position = u_projectionMatrix * u_viewMatrix * modelPosition;\n  vUv = TEXCOORD_0;\n}";
},{}],"y4jS":[function(require,module,exports) {
module.exports="#define GLSLIFY 1\nout vec4 finalColor;\nin vec2 vUv;\n\nvoid main(void){\n\t// finalColor = vec4(1.0, 0.0, 0.0, 1.0);\n\tfinalColor = texture(u_texture, vUv);\n}";
},{}],"5hIo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TexturedCube=void 0;var e=require("nardgl"),t=u(require("./vertex.glsl")),r=u(require("./fragment.glsl"));function u(e){return e&&e.__esModule?e:{default:e}}class s extends e.GltfPrimitive{constructor(e,u){u.attributes=[u.attributes[0],u.attributes[2]],super(e,u,[{name:"u_texture",src:u.material.pbrMetallicRoughness.baseColorTexture.texture}],t.default,r.default)}beforeDraw(){this.setUniform("u_modelMatrix",this.matrix)}}exports.TexturedCube=s;
},{"nardgl":"7DSo","./vertex.glsl":"2GFP","./fragment.glsl":"y4jS"}],"Focm":[function(require,module,exports) {
"use strict";var e=i(require("nardgl")),t=require("./Particles"),r=require("./Quad"),s=require("./TexturedCube");function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}const a=["https://matnard.github.io/NardGL/assets/quad.gltf","https://matnard.github.io/NardGL/assets/textured-cube.gltf"];class n extends e.WebGLRenderer{init(){this.particles=new t.Particles(this.gl),this.scene.push(this.particles),this.grid=new e.Grid(this.gl),this.grid.rotation.x=Math.PI/2,this.scene.push(this.grid),this.cube=new s.TexturedCube(this.gl,new e.GltfParser(n.data[a[1]]).getPrimitives()[0]),this.cube.translation.y=.5,this.cube.scale.x=this.cube.scale.y=this.cube.scale.z=.3,this.scene.push(this.cube),this.quad=new r.Quad(this.gl,new e.GltfParser(n.data[a[0]]).getPrimitives()[0]),this.scene.push(this.quad),this.camera.translation.z=4,this.camera.translation.y=.5,this.render()}beforeDraw(e){this.camera.rotation.y-=.005}}new e.Loader({onProgress:function(e){console.log(`Progress: ${e}`)},assets:a}).start().then(function(e){n.data=e,new n});
},{"nardgl":"7DSo","./Particles":"pqoA","./Quad":"k/je","./TexturedCube":"5hIo"}]},{},["Focm"], null)
//# sourceMappingURL=/demo-0.3aad7d98.js.map